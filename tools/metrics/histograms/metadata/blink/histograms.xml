<!--
Copyright 2020 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<!--
This file is used to generate a comprehensive list of Blink histograms
along with a detailed description for each histogram.

For best practices on writing histogram descriptions, see
https://chromium.googlesource.com/chromium/src.git/+/HEAD/tools/metrics/histograms/README.md

Please follow the instructions in the OWNERS file in this directory to find a
reviewer. If no OWNERS file exists, please consider signing up at
go/reviewing-metrics (Googlers only), as all subdirectories are expected to
have an OWNERS file. As a last resort you can send the CL to
chromium-metrics-reviews@google.com.
-->

<histogram-configuration>

<histograms>

<variants name="BlinkIncrementalDecodeImageTypes">
  <variant name=".Jpeg"
      summary="Byte size of JPEG images that fall into this category."/>
  <variant name=".WebP"
      summary="Byte size of WebP images that fall into this category."/>
</variants>

<variants name="BlinkVisibleLoadTimeSuffixes">
  <variant name=".2G" summary="2G effective connection type"/>
  <variant name=".3G" summary="3G effective connection type"/>
  <variant name=".4G" summary="4G effective connection type"/>
  <variant name=".Slow2G" summary="Slow-2G effective connection type"/>
</variants>

<histogram name="Blink.Accessibility.NumTreeUpdatesQueuedBeforeLayout"
    units="updates" expires_after="M86">
  <owner>aboxhall@chromium.org</owner>
  <owner>chrome-a11y-core@chromium.org</owner>
  <summary>
    Records how many tree updates were queued at the time updates are being
    processed after layout. If we are trying to process too many updates at
    once, we should investigate how we might be able to merge similar updates
    without losing important information.
  </summary>
</histogram>

<histogram base="true"
    name="Blink.AnchorElementMetricsIntersectionObserver.UpdateTime"
    units="microseconds" expires_after="2022-10-10">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent computing IntersectionObserver observations in the Blink document
    lifecycle where the observation is for gathering information about anchor
    elements within the visible viewport. Recorded when an intersection
    observation attributed to anchor element metrics is updated.

    This histogram only records metrics on machines with high-resolution clocks.
  </summary>
</histogram>

<histogram base="true" name="Blink.Animate.UpdateTime" units="microseconds"
    expires_after="2022-04-10">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent processing main frame animations during a main frame update.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.Animation.CompositedAnimationFailureReason"
    enum="CompositorAnimationsFailureReason" expires_after="2022-05-01">
  <owner>smcgruer@chromium.org</owner>
  <owner>animations-dev@chromium.org</owner>
  <summary>
    Reasons an Animation is not suitable for running on the compositor thread.

    Note that a given Animation may have more than one reason, so this histogram
    cannot be used to determine the overall rate of 'composited' vs
    'noncomposited' animations.
  </summary>
</histogram>

<histogram name="Blink.AutomaticLazyLoadFrame"
    enum="AutomaticLazyLoadFrameState" expires_after="2022-04-09">
  <owner>sisidovski@google.com</owner>
  <owner>kouhei@chromium.org</owner>
  <summary>
    Records if the automatic lazy-load for selected performance problematic
    iframes is applied or not. This is recorded when each frame having a url in
    the page is created. See HTMLFrameOwnerElement::LazyLoadIfPossible() for
    more details.

    Note: There are two groups that lazy-load isn't applied. One group is simply
    the feature itself is disabled, another groupd is that feature is enabled,
    but there are no targeted frames on the page.
  </summary>
</histogram>

<histogram name="Blink.Binding.CreateV8ContextForMainFrame"
    units="microseconds" expires_after="2022-04-24">
  <owner>sky@chromium.org</owner>
  <owner>yukishiino@chromium.org</owner>
  <summary>
    Warning: this histogram was expired from ~4/2019 to ~10/2021.

    Time (in microseconds) spent to create a v8::Context instance during a page
    loading in the main-frame window.

    Warning: This metric may include reports from clients with low-resolution
    clocks (i.e. on Windows, ref. |TimeTicks::IsHighResolution()|). Such reports
    will cause this metric to have an abnormal distribution. When considering
    revising this histogram, see UMA_HISTOGRAM_CUSTOM_MICROSECONDS_TIMES for the
    solution.
  </summary>
</histogram>

<histogram name="Blink.Binding.CreateV8ContextForNonMainFrame"
    units="microseconds" expires_after="2022-04-24">
  <owner>sky@chromium.org</owner>
  <owner>yukishiino@chromium.org</owner>
  <summary>
    Warning: this histogram was expired from ~4/2019 to ~10/2021.

    Time spent (in microseconds) to create a v8::Context instance during a page
    loading in a non-main-frame window, e.g. iframe.

    Warning: This metric may include reports from clients with low-resolution
    clocks (i.e. on Windows, ref. |TimeTicks::IsHighResolution()|). Such reports
    will cause this metric to have an abnormal distribution. When considering
    revising this histogram, see UMA_HISTOGRAM_CUSTOM_MICROSECONDS_TIMES for the
    solution.
  </summary>
</histogram>

<histogram name="Blink.Canvas.2DPrintingAsVector" enum="BooleanSuccess"
    expires_after="2022-01-31">
  <owner>fserb@chromium.org</owner>
  <owner>juanmihd@chromium.org</owner>
  <summary>
    Records if a Canvas is being printed as a vector or as an image.
  </summary>
</histogram>

<histogram name="Blink.Canvas.ContentChangeMode"
    enum="BooleanContentChangeMode" expires_after="2022-04-24">
  <owner>yiyix@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    Records whether the contents in the canvas buffer needed to be preserved via
    a copy when replacing the target buffer for drawing a new frame. This metric
    is recorded each time the target buffer needs to be replaced. It's recorded
    once per frame.
  </summary>
</histogram>

<histogram name="Blink.Canvas.ContextType" enum="CanvasContextType"
    expires_after="2022-01-31">
  <obsolete>
    Retired in M96, replaced by HTMLCanvasElement_* buckets in
    Blink.UseCounter.Features wich records at most one count per page visit per
    context type, as opposed to one count per context creation.
  </obsolete>
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    Records the context type names used to create canvas rendering contexts.
  </summary>
</histogram>

<histogram name="Blink.Canvas.CreateImageBitmapSource"
    enum="CanvasCreateImageBitmapSource" expires_after="2022-04-04">
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    The source from which an ImageBitmap is created by a createImageBitmap call.
  </summary>
</histogram>

<histogram base="true" name="Blink.Canvas.DrawImage.Duration"
    units="microseconds" expires_after="2021-07-14">
  <obsolete>
    Retired in M93, replaced by Blink.Canvas.DrawImage.Duration2 which has a
    wider range.
  </obsolete>
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    Time spent on the main thread during a 2D canvas drawImage API call.

    Note: This metric drops reports on clients with low-resolution clocks, which
    means these reports will be biased against a portion of the population on
    Windows. See Windows.HasHighResolutionTimeTicks for the affected sample.
  </summary>
</histogram>

<histogram base="true" name="Blink.Canvas.DrawImage.Duration2"
    units="microseconds" expires_after="M93">
  <obsolete>
    Retired in M94.
  </obsolete>
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    Time spent on the main thread during a 2D canvas drawImage API call.

    This differs from Blink.Canvas.DrawImage.Duration in that it uses buckets up
    to ten seconds rather than ten milliseconds (due to a change in the
    underlying histogramming function called).

    Note: This metric drops reports on clients with low-resolution clocks, which
    means these reports will be biased against a portion of the population on
    Windows. See Windows.HasHighResolutionTimeTicks for the affected sample.
  </summary>
</histogram>

<histogram
    name="Blink.Canvas.DrawImage.SqrtNumberOfPixels{BlinkCanvasDrawImageSizeType}"
    units="sqrt(pixels)" expires_after="M93">
  <obsolete>
    Retired in M94.
  </obsolete>
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    Stores the square root of the number of pixels drawn into a Canvas.
    Different histograms per CanvasImageSource. {BlinkCanvasDrawImageSizeType}
  </summary>
  <token key="BlinkCanvasDrawImageSizeType">
    <variant name="">
      <obsolete>
        Base histogram. Use suffixes of this histogram instead.
      </obsolete>
    </variant>
    <variant name=".Canvas.CPU" summary=""/>
    <variant name=".Canvas.GPU" summary=""/>
    <variant name=".CssImage" summary=""/>
    <variant name=".ImageBitmap" summary=""/>
    <variant name=".ImageElement" summary=""/>
    <variant name=".OffscreenCanvas.CPU" summary=""/>
    <variant name=".OffscreenCanvas.GPU" summary=""/>
    <variant name=".SVG" summary=""/>
    <variant name=".Unknown" summary=""/>
    <variant name=".Video" summary=""/>
    <variant name=".VideoFrame" summary=""/>
  </token>
</histogram>

<histogram base="true" name="Blink.Canvas.GetImageDataScaledDuration"
    units="microseconds * 10/sqrt(pixels)" expires_after="M93">
  <obsolete>
    Retired in M94.
  </obsolete>
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    Time in microseconds * 10 (10e-5 seconds) spent on the 2D canvas
    getImageData API call, divided by the square root of the total number of
    pixels of the image extracted from the canvas. Smaller is faster.

    The idea behind this elaborated unit is that the bigger the area of a canvas
    the longer the operation GetImageData takes, so we want a way to measure the
    overall performance regardless of the size of the canvas.

    Warning: This metric may include reports from clients with low-resolution
    clocks (i.e. on Windows, ref. |TimeTicks::IsHighResolution()|). Such reports
    will cause this metric to have an abnormal distribution. When considering
    revising this histogram, see UMA_HISTOGRAM_CUSTOM_MICROSECONDS_TIMES for the
    solution.

    Warning: this histogram was expired from 2021-01-31 to 2021-05-10; data may
    be missing.
  </summary>
</histogram>

<histogram name="Blink.Canvas.GPUFallbackToCPU"
    enum="CanvasGPUFallbackToCPUScenario" expires_after="2022-04-10">
  <owner>fserb@chromium.org</owner>
  <summary>Logs the occurrences of canvas fallback from GPU to CPU.</summary>
</histogram>

<histogram name="Blink.Canvas.HasRendered" enum="Boolean"
    expires_after="2022-01-31">
  <owner>juanmihd@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    Records if the canvas has been rendered at least once. Recorded on disposal.
  </summary>
</histogram>

<histogram name="Blink.Canvas.HibernationEvents" enum="CanvasHibernationEvent"
    expires_after="2022-01-31">
  <owner>fserb@chromium.org</owner>
  <summary>
    Records the occurrence of events related to 2D canvas GPU resource
    hibernation.
  </summary>
</histogram>

<histogram name="Blink.Canvas.ImageSmoothingQuality"
    enum="ImageSmoothingQuality" expires_after="2022-01-31">
  <obsolete>
    Removed in M92. This metric is added to do some research, and the research
    is now completed.
  </obsolete>
  <owner>fserb@chromium.org</owner>
  <owner>yiyix@chromium.org</owner>
  <summary>
    Records the image smoothing quality used by draw image. Users can choose
    between none, low, medium or high image quality.
  </summary>
</histogram>

<histogram name="Blink.Canvas.IsComposited" enum="Boolean"
    expires_after="2021-01-31">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    Records if the canvas context is composited or not. Recorded in
    HTMLCanvasElement::GetCanvasRenderingContext.

    Note: This has been recording bad data since at least 2020-01-01. It was
    emitted in the wrong place and always recording false. Since it records the
    same information as IsAccelerated, I am just going to let it expire.
  </summary>
</histogram>

<histogram name="Blink.Canvas.MaximumInflightResources"
    units="canvas resources" expires_after="2022-04-24">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    Reports the maximum number or canvas resources used at any one time by a
    canvas resource provider. Logged in the destructor of
    CanvasResourceProvider.
  </summary>
</histogram>

<histogram name="Blink.Canvas.NumCanvasesPerPage" units="canvases"
    expires_after="2022-04-24">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    When a Document is shutdown, reports the number of canvases on that page.
  </summary>
</histogram>

<histogram name="Blink.Canvas.OverdrawOp" enum="CanvasOverdrawOp"
    expires_after="2022-08-31">
  <owner>junov@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    Counts 2d canvas draw operations that trigger the overdraw optimization.
  </summary>
</histogram>

<histogram base="true" name="Blink.Canvas.PutImageDataScaledDuration"
    units="microseconds * 10/sqrt(pixels)" expires_after="M93">
  <obsolete>
    Retired in M94.
  </obsolete>
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    Time in microseconds * 10 (10e-5 seconds) spent on the 2D canvas
    putImageData API call, divided by the square root of the total number of
    pixels of the imageData painted into the canvas. Smaller is faster.

    The idea behind this elaborated unit is that the bigger the area of a canvas
    the longer the operation PutImageData takes, so we want a way to measure the
    overall performance regardless of the size of the canvas.

    Warning: This metric may include reports from clients with low-resolution
    clocks (i.e. on Windows, ref. |TimeTicks::IsHighResolution()|). Such reports
    will cause this metric to have an abnormal distribution. When considering
    revising this histogram, see UMA_HISTOGRAM_CUSTOM_MICROSECONDS_TIMES for the
    solution.

    Warning: this histogram was expired from 2021-01-31 to 2021-05-10; data may
    be missing.
  </summary>
</histogram>

<histogram name="Blink.Canvas.RasterDuration{BlinkCanvasRasterDurationType}"
    units="microseconds" expires_after="2022-01-31">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    Records the CPU, GPU and combined raster time for a random sampling of
    canvas frames for accelerated and deferred canvases. Records wall time for a
    random sampling of unaccelerated canvases.

    Warning: This metric may include reports from clients with low-resolution
    clocks (i.e. on Windows, ref. |TimeTicks::IsHighResolution()|). Such reports
    will cause this metric to have an abnormal distribution. When considering
    revising this histogram, see UMA_HISTOGRAM_CUSTOM_MICROSECONDS_TIMES for the
    solution. {BlinkCanvasRasterDurationType}
  </summary>
  <token key="BlinkCanvasRasterDurationType">
    <variant name=""/>
    <variant name=".Accelerated.CPU" summary=""/>
    <variant name=".Accelerated.GPU" summary=""/>
    <variant name=".Accelerated.Total" summary=""/>
    <variant name=".Unaccelerated" summary=""/>
  </token>
</histogram>

<histogram
    name="Blink.Canvas.RequestedImageMimeTypes{CanvasRequestedImageMimeTypeFunctions}"
    enum="RequestedImageMimeType" expires_after="2022-04-04">
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    Records the occurence of image file formats passed into toDataURL and toBlob
    functions in canvas. {CanvasRequestedImageMimeTypeFunctions}
  </summary>
  <token key="CanvasRequestedImageMimeTypeFunctions">
    <variant name="">
      <obsolete>
        Base histogram. Use suffixes of this histogram instead.
      </obsolete>
    </variant>
    <variant name="_convertToBlobPromise"
        summary="Image formats passed to OffscreenCanvas.convertToBlob
                 (promise)"/>
    <variant name="_toBlobCallback"
        summary="Image formats passed to canvas.toBlob (callback)"/>
    <variant name="_toDataURL"
        summary="Image formats passed to canvas.toDataURL"/>
  </token>
</histogram>

<histogram name="Blink.Canvas.ResourceProviderIsAccelerated"
    enum="BooleanHardwareAccelerated" expires_after="2022-04-04">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>Logs if the canvas resource provider is accelerated or not.</summary>
</histogram>

<histogram name="Blink.Canvas.ResourceProviderType"
    enum="CanvasResourceProviderType" expires_after="2022-04-04">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>Records the type of resource provider used for a canvas.</summary>
</histogram>

<histogram name="Blink.Canvas.ResourceProviderUsage"
    enum="CanvasResourceProviderUsage" expires_after="2022-04-04">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    Records the requested resource usage for a canvas resource provider.
  </summary>
</histogram>

<histogram name="Blink.Canvas.SqrtNumberOfPixels" units="sqrt(pixels)"
    expires_after="2022-04-04">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    Stores the square root of the number of pixels in a new or resized offscreen
    canvas. Emitted from CanvasRenderingContextHost::RecordCanvasSizeToUMA.
  </summary>
</histogram>

<histogram base="true" name="Blink.Canvas.ToBlob.CompleteEncodingDelay"
    units="microseconds" expires_after="2021-01-31">
  <obsolete>
    Removed in M89. Obsolete and unused. This has been replaced with
    Blink.Canvas.ToBlob.TotalEncodingDelay
  </obsolete>
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    This metric measures the total time spent on completing encoding all the
    rows of an image (jpeg or png), as part of a canvas.toBlob API call.
    Encoding occurs during one or more idle periods on the main thread and the
    waiting time of the next idle period is included in the measurement. If the
    code has swtiched to force encoding path, we will not measure the delay in
    this metric.

    This metric is useful in helping us adjust the IdleTaskCompleteTimeoutDelay
    in canvas.toBlob. When the encoding idle task is delayed for longer than
    IdleTaskCompleteTimeoutDelay, the browser will switch to a non-idle task to
    force encoding to happen on the main thread.

    In addition, metric values from OffscreenCanvas.convertToBlob API call are
    also gathered into this histogram, because the logic flow is exactly the
    same as canvas.toBlob. It's worth to note that the values can come from idle
    tasks on either main or worker thread.

    Note: This metric drops reports on clients with low-resolution clocks, which
    means these reports will be biased against a portion of the population on
    Windows. See Windows.HasHighResolutionTimeTicks for the affected sample.
  </summary>
</histogram>

<histogram base="true" name="Blink.Canvas.ToBlob.IdleTaskStatus"
    enum="IdleTaskStatus" expires_after="2021-01-31">
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    Records the status of the idle task when finishing a toBlob call.

    In addition, metric values from OffscreenCanvas.convertToBlob API call are
    also gathered into this histogram, because the logic flow is exactly the
    same as canvas.toBlob. It's worth to note that the values can come from idle
    tasks on either main or worker thread.
  </summary>
</histogram>

<histogram name="Blink.Canvas.ToBlob.InitialEncodingDelay.{Type}"
    units="microseconds" expires_after="2022-04-04">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    A new version of &quot;Blink.Canvas.ToBlob.InitiateEncodingDelay&quot;
    (which will be allowed to expire) which allows for times &gt;10ms.

    This metric measures the time spent from initiating image encoding (jpeg or
    png) on idle task to the actual execution time of initiation, as part of a
    canvas.toBlob API call.

    This metric is useful in helping us adjust the IdleTaskStartTimeoutDelay in
    canvas.toBlob. When the initialization idle task is delayed for longer than
    IdleTaskStartTimeoutDelay, the browser will switch to a non-idle task to
    force initialization and encoding to occur on the main thread.

    In addition, metric values from OffscreenCanvas.convertToBlob API call are
    also gathered into this histogram, because the logic flow is exactly the
    same as canvas.toBlob. It's worth to note that the values can come from idle
    tasks on either main or worker thread.

    Note: This metric drops reports on clients with low-resolution clocks, which
    means these reports will be biased against a portion of the population on
    Windows. See Windows.HasHighResolutionTimeTicks for the affected sample.
  </summary>
  <token key="Type">
    <variant name="JPEG"/>
    <variant name="PNG"/>
  </token>
</histogram>

<histogram base="true" name="Blink.Canvas.ToBlob.InitiateEncodingDelay"
    units="microseconds" expires_after="2021-01-31">
  <obsolete>
    Removed in M89. Obsolete and unused. This has been replaced with
    Blink.Canvas.ToBlob.InitialEncodingDelay
  </obsolete>
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    This metric measures the time spent from initiating image encoding (jpeg or
    png) on idle task to the actual execution time of initiation, as part of a
    canvas.toBlob API call.

    This metric is useful in helping us adjust the IdleTaskStartTimeoutDelay in
    canvas.toBlob. When the initialization idle task is delayed for longer than
    IdleTaskStartTimeoutDelay, the browser will switch to a non-idle task to
    force initialization and encoding to occur on the main thread.

    In addition, metric values from OffscreenCanvas.convertToBlob API call are
    also gathered into this histogram, because the logic flow is exactly the
    same as canvas.toBlob. It's worth to note that the values can come from idle
    tasks on either main or worker thread.

    Note: This metric drops reports on clients with low-resolution clocks, which
    means these reports will be biased against a portion of the population on
    Windows. See Windows.HasHighResolutionTimeTicks for the affected sample.
  </summary>
</histogram>

<histogram name="Blink.Canvas.ToBlob.ScaledDuration{BlinkCanvasToBlobType}"
    units="microseconds/sqrt(pixels)" expires_after="2022-04-04">
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    Time in microseconds spent on the 2D canvas toBlob API call, divided by the
    square root of the total number of pixels of the canvas.

    In addition, metric values from OffscreenCanvas.convertToBlob API call are
    also gathered into this histogram, because the logic flow is exactly the
    same as canvas.toBlob. It's worth to note that the values can come from idle
    tasks on either main or worker thread.

    Note: This metric drops reports on clients with low-resolution clocks, which
    means these reports will be biased against a portion of the population on
    Windows. See Windows.HasHighResolutionTimeTicks for the affected sample.
    {BlinkCanvasToBlobType}
  </summary>
  <token key="BlinkCanvasToBlobType">
    <variant name="">
      <obsolete>
        Base histogram. Use suffixes of this histogram instead.
      </obsolete>
    </variant>
    <variant name=".JPEG" summary=""/>
    <variant name=".PNG" summary=""/>
    <variant name=".WEBP" summary=""/>
  </token>
</histogram>

<histogram name="Blink.Canvas.ToBlob.TotalEncodingDelay.{Type}"
    units="microseconds" expires_after="2022-04-04">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    A new version of &quot;Blink.Canvas.ToBlob.InitiateEncodingDelay&quot;
    (which will be allowed to expire) which allows for times &gt;10ms.

    This metric measures the total time spent on completing encoding all the
    rows of an image (jpeg or png), as part of a canvas.toBlob API call.
    Encoding occurs during one or more idle periods on the main thread and the
    waiting time of the next idle period is included in the measurement. If the
    code has swtiched to force encoding path, we will not measure the delay in
    this metric.

    This metric is useful in helping us adjust the IdleTaskCompleteTimeoutDelay
    in canvas.toBlob. When the encoding idle task is delayed for longer than
    IdleTaskCompleteTimeoutDelay, the browser will switch to a non-idle task to
    force encoding to happen on the main thread.

    In addition, metric values from OffscreenCanvas.convertToBlob API call are
    also gathered into this histogram, because the logic flow is exactly the
    same as canvas.toBlob. It's worth to note that the values can come from idle
    tasks on either main or worker thread.

    Note: This metric drops reports on clients with low-resolution clocks, which
    means these reports will be biased against a portion of the population on
    Windows. See Windows.HasHighResolutionTimeTicks for the affected sample.
  </summary>
  <token key="Type">
    <variant name="JPEG"/>
    <variant name="PNG"/>
  </token>
</histogram>

<histogram
    name="Blink.Canvas.ToDataURLScaledDuration{BlinkCanvasToDataURLMimeType}"
    units="microseconds/sqrt(pixels)" expires_after="2022-04-04">
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    Time spent on 2D canvas toDataURL API call divided by the square root of the
    total number of pixels of the image. Smaller is faster.

    The idea behind this unit is that the bigger the area of a canvas the longer
    the operation ToDataURL takes, so we want a way to measure the overall
    performance regardless of the size of the canvas.

    Warning: This metric may include reports from clients with low-resolution
    clocks (i.e. on Windows, ref. |TimeTicks::IsHighResolution()|). Such reports
    will cause this metric to have an abnormal distribution. When considering
    revising this histogram, see UMA_HISTOGRAM_CUSTOM_MICROSECONDS_TIMES for the
    solution. {BlinkCanvasToDataURLMimeType}
  </summary>
  <token key="BlinkCanvasToDataURLMimeType">
    <variant name="">
      <obsolete>
        Base histogram. Use suffixes of this histogram instead.
      </obsolete>
    </variant>
    <variant name=".BMP" summary="">
      <obsolete>
        Removed in Oct 2016
      </obsolete>
    </variant>
    <variant name=".GIF" summary="">
      <obsolete>
        Removed in Oct 2016
      </obsolete>
    </variant>
    <variant name=".ICON" summary="">
      <obsolete>
        Removed in Oct 2016
      </obsolete>
    </variant>
    <variant name=".JPEG" summary=""/>
    <variant name=".PNG" summary=""/>
    <variant name=".TIFF" summary="">
      <obsolete>
        Removed in Oct 2016
      </obsolete>
    </variant>
    <variant name=".Unknown" summary="">
      <obsolete>
        Removed in Oct 2016
      </obsolete>
    </variant>
    <variant name=".WEBP" summary=""/>
  </token>
</histogram>

<histogram name="Blink.Canvas.WebGPUMaxRecycledResourcesCount"
    units="Recyclable resources" expires_after="2022-04-24">
  <owner>magchen@chromium.org</owner>
  <owner>enga@chromium.org</owner>
  <summary>
    The maximum number of total unused recyclable WebGPU resources since last
    clean-up. Logged in the WebGPU recyclable resouce clean-up timer function.
  </summary>
</histogram>

<histogram name="Blink.Canvas.WebGPUMaxRecycledResourcesInKB" units="KB"
    expires_after="2022-04-24">
  <owner>magchen@chromium.org</owner>
  <owner>enga@chromium.org</owner>
  <summary>
    The maximum size of total unused recyclable WebGPU resources in KB since
    last clean-up. Logged in the WebGPU recyclable resouce clean-up timer
    function.
  </summary>
</histogram>

<histogram name="Blink.Canvas.WebGPUStaleResourceCount"
    units="recyclable resources" expires_after="2022-05-01">
  <owner>magchen@chromium.org</owner>
  <owner>enga@chromium.org</owner>
  <summary>
    The number of stale recyclable WebGPU canvas resources released and logged
    in the WebGPU recyclable resouce clean-up timer function.
  </summary>
</histogram>

<histogram name="Blink.Canvas.WillReadFrequently"
    enum="BooleanWillReadFrequently" expires_after="2021-01-31">
  <owner>fserb@chromium.org</owner>
  <summary>
    Logs if the canvas is initialized to be read frequently or not.
  </summary>
</histogram>

<histogram name="Blink.Clipboard.Paste.Image" enum="ClipboardPastedImageUrls"
    expires_after="2021-09-05">
  <obsolete>
    Retired in Sept 2021 as enough data was collected.
  </obsolete>
  <owner>huangdarwin@chromium.org</owner>
  <owner>snianu@microsoft.com</owner>
  <summary>
    When HTML is parsed during a paste operation, image elements may have a
    source attribute pointing to a local file url, http(s) url, cid or other url
    type which doesn't render the image when it's pasted inside a content
    editable region. This metric will help us determine how many paste
    operations have an image with a src url attribute containing the url types
    mentioned above and whether there is an RTF format in the clipboard along
    with HTML or not. The RTF format data will help us decide whether we need to
    support paste for images that are in RTF format types when it's available on
    the clipboard along with HTML format so the apps can use it to insert the
    images which then can be used by the Browser to replace the src urls of the
    images in the HTML markup with a Blob url. This would enable the site to
    store the images when it's pasted inside a content editable region.
  </summary>
</histogram>

<histogram name="Blink.ColorGamut.Destination" enum="Gamut" expires_after="M85">
  <owner>brianosman@chromium.org</owner>
  <owner>mcasas@google.com</owner>
  <owner>ccameron@chromium.org</owner>
  <summary>Gamut properties of destination color space.</summary>
</histogram>

<histogram name="Blink.ColorSpace.Destination" enum="Gamma" expires_after="M85">
  <owner>brianosman@chromium.org</owner>
  <owner>mcasas@google.com</owner>
  <owner>ccameron@chromium.org</owner>
  <summary>Gamma properties of destination color space.</summary>
</histogram>

<histogram name="Blink.ColorSpace.Destination.NonlinearFitErrorCombined"
    units="units" expires_after="M85">
  <owner>brianosman@chromium.org</owner>
  <owner>mcasas@google.com</owner>
  <owner>ccameron@chromium.org</owner>
  <summary>
    The L-infinity error (in 8-bit values) of the numerical approximation of
    table-based ICC profile transfer functions for all channels combined, when
    the nonlinear approximation converged.
  </summary>
</histogram>

<histogram
    name="Blink.Compositing.LayerPromotionCount{BlinkCompositingLayerCount}"
    units="units" expires_after="2021-12-05">
  <owner>pdr@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Number of composited layers based on various reasons. Recorded when a page
    finishes its layer updates. {BlinkCompositingLayerCount}
  </summary>
  <token key="BlinkCompositingLayerCount">
    <variant name="">
      <obsolete>
        Base histogram. Use suffixes of this histogram instead.
      </obsolete>
    </variant>
    <variant name=".ActiveAnimation" summary="">
      <obsolete>
        Deprecated as of 2021-10.
      </obsolete>
    </variant>
    <variant name=".AssumedOverlap" summary="">
      <obsolete>
        Deprecated as of 2021-10.
      </obsolete>
    </variant>
    <variant name=".IndirectComposited" summary="">
      <obsolete>
        Deprecated as of 2021-10.
      </obsolete>
    </variant>
    <variant name=".Overlap" summary="">
      <obsolete>
        Deprecated as of 2021-10.
      </obsolete>
    </variant>
    <variant name=".TotalComposited" summary="">
      <obsolete>
        Deprecated as of 2021-10.
      </obsolete>
    </variant>
  </token>
</histogram>

<histogram base="true" name="Blink.CompositingAssignments.UpdateTime"
    units="microseconds" expires_after="2022-03-13">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent updating compositing assignments in the Blink document lifecycle.
    This is the legacy compositing approach.

    Note: this histogram has stopped recording metrics on machines with
    low-resolution clocks.
  </summary>
</histogram>

<histogram base="true" name="Blink.CompositingCommit.UpdateTime"
    units="microseconds" expires_after="2022-03-13">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent updating and pushing layers at the end of the paint step in the
    Blink document lifecycle. This is the new compositing approach in
    CompositeAfterPaint and is largely implemented by PaintArtifactCompositor.
    BlinkGenPropertyTrees is an incremental launch of part of the new
    compositing approach and will use both this and
    Blink.{CompositingInputs+CompositingAssignments}.UpdateTime.

    Note: As of M70, this histogram has stopped recording metrics on machines
    with low-resolution clocks.
  </summary>
</histogram>

<histogram base="true" name="Blink.CompositingInputs.UpdateTime"
    units="microseconds" expires_after="2022-03-13">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent updating compositing inputs in the Blink document lifecycle. This
    is the legacy compositing approach.

    Note: this histogram has stopped recording metrics on machines with
    low-resolution clocks.
  </summary>
</histogram>

<histogram name="Blink.Compression.CompressionStream.Format"
    enum="CompressionStreamsFormat" expires_after="2022-01-12">
  <owner>ricea@chromium.org</owner>
  <owner>yhirano@chromium.org</owner>
  <summary>
    Compression format passed to the constructor of the JavaScript API
    &quot;CompressionStream&quot;, which is used for lossless compression of
    arbitrary binary data. Recorded once per call to the constructor. This
    measures which compression formats are most commonly used in the wild.
  </summary>
</histogram>

<histogram name="Blink.Compression.DecompressionStream.Format"
    enum="CompressionStreamsFormat" expires_after="2022-01-12">
  <owner>ricea@chromium.org</owner>
  <owner>yhirano@chromium.org</owner>
  <summary>
    Compression format passed to the constructor of the JavaScript API
    &quot;DecompressionStream&quot;, which is used for lossless decompression of
    arbitrary binary data. Recorded once per call to the constructor. This
    measures which compression formats are most commonly used in the wild.
  </summary>
</histogram>

<histogram base="true" name="Blink.ContentDocumentUpdate.UpdateTime"
    units="microseconds" expires_after="2022-03-13">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent preparing the document for a canvas draw, SVG image draw or
    plugin during a main frame update. Includes time spent in style update and
    layout.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.ContextMenu.ImageSelection.Depth" units="count"
    expires_after="2022-03-13">
  <owner>benwgold@google.com</owner>
  <owner>flackr@chromium.org</owner>
  <summary>
    The depth of the discovered image node in the hit test list when performing
    a penetrating image selection search.

    Only recorded when the `EnablePenetratingImageSelection` feature is enabled
    and a user long presses or right clicks a document (and an image is found).
  </summary>
</histogram>

<histogram name="Blink.ContextMenu.ImageSelection.ElapsedTime"
    units="microseconds" expires_after="2022-03-13">
  <owner>benwgold@google.com</owner>
  <owner>flackr@chromium.org</owner>
  <summary>
    The amount of time it took to iterate through the dom looking for an image
    node.

    Only recorded when the `EnablePenetratingImageSelection` feature is enabled
    and a user long presses or right clicks a document.

    Note: This metric drops reports on clients with low-resolution clocks, which
    means these reports will be biased against a portion of the population on
    Windows. See Windows.HasHighResolutionTimeTicks for the affected sample.
  </summary>
</histogram>

<histogram name="Blink.ContextMenu.ImageSelection.Outcome"
    enum="ImageSelectionOutcome" expires_after="2022-04-10">
  <owner>benwgold@google.com</owner>
  <owner>flackr@chromium.org</owner>
  <summary>
    The outcome of an image selection search that may or may not trigger the
    context menu.

    Only recorded when the `EnablePenetratingImageSelection` feature is enabled
    and a user long presses or right clicks a document (and an image is found).
  </summary>
</histogram>

<histogram name="Blink.ContextMenu.ImageSelection.RetrievalOutcome"
    enum="ImageSelectionRetrievalOutcome" expires_after="2022-04-17">
  <owner>benwgold@google.com</owner>
  <owner>flackr@chromium.org</owner>
  <summary>
    The outcome of a follow up retrieval of an image node after a selection has
    occurred, which occurs asynchronously and thus could be unsuccessful due to
    changes that may occur between the initial hit test and the retrieval.

    Only recorded when the `EnablePenetratingImageSelection` feature is enabled
    and a user long presses or right clicks a document (and an image is found).
  </summary>
</histogram>

<histogram name="Blink.CookieStore.MatchType" enum="CookieStoreMatchType"
    expires_after="M87">
  <obsolete>
    Removed in M87.
  </obsolete>
  <owner>ayui@chromium.org</owner>
  <owner>pwnall@chromium.org</owner>
  <summary>
    Records match type option set by the developer for Cookie Store query APIs
    to measure the usage of the option during Origin Trial to better evaluate
    the best shape of the API.
  </summary>
</histogram>

<histogram name="Blink.CSSPaintValue.PaintOffThread"
    enum="BooleanCompositorCSSPaint" expires_after="2022-03-08">
  <owner>xidachen@chromium.org</owner>
  <owner>kevers@chromium.org</owner>
  <summary>
    Records if a CSS Paint is painted on the compositor thread or has fallen
    back to the main thread.
  </summary>
</histogram>

<histogram name="Blink.DarkMode.ApplyToImageOnMainThread" units="microseconds"
    expires_after="2022-04-01">
  <owner>pdr@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent computing each inverted dark mode image on the main thread. This
    includes both image decoding and classification.

    Warning: This metric may include reports from clients with low-resolution
    clocks (i.e. on Windows, ref. |TimeTicks::IsHighResolution()|). Such reports
    will cause this metric to have an abnormal distribution.
  </summary>
</histogram>

<histogram name="Blink.DecodedImage.AvifDensity.KiBWeighted"
    units="0.01 bits per pixel" expires_after="2022-10-01">
  <owner>jyrki@google.com</owner>
  <owner>compression-dev@google.com</owner>
  <summary>
    The compressed image size in KiB per image density measured in 0.01 bits per
    pixel. This is logged once per image load after the whole image is loaded
    and only for AVIFs with at least 100 pixels on the smallest dimension (width
    or height). The reported count for a sample represents the image size
    rounded to the nearest KiB.
  </summary>
</histogram>

<histogram name="Blink.DecodedImage.DensitySizeCorrectionDetected"
    enum="BooleanPresent" expires_after="2021-01-03">
  <obsolete>
    Removed in M89.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>noam.j.rosenthal@gmail.com</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Indicates whether a decoded image contains density correction metadata, i.e.
    when its resolution and dimension EXIF values match.
  </summary>
</histogram>

<histogram name="Blink.DecodedImage.JpegDensity.KiBWeighted"
    units="0.01 bits per pixel" expires_after="2022-10-01">
  <owner>jyrki@google.com</owner>
  <owner>compression-dev@google.com</owner>
  <summary>
    The compressed image size in KiB per image density measured in 0.01 bits per
    pixel. This is logged once per image load after the whole image is loaded
    and only for JPEGs with at least 100 pixels on the smallest dimension (width
    or height). The reported count for a sample represents the image size
    rounded to the nearest KiB.
  </summary>
</histogram>

<histogram name="Blink.DecodedImage.Orientation" enum="DecodedImageOrientation"
    expires_after="M81">
  <obsolete>
    Removed in M88.
  </obsolete>
  <owner>andrescj@chromium.org</owner>
  <owner>rob.buis@samsung.org</owner>
  <summary>Image orientation inferred during decode.</summary>
</histogram>

<histogram name="Blink.DecodedImage.WebPDensity.KiBWeighted"
    units="0.01 bits per pixel" expires_after="2022-10-01">
  <owner>jyrki@google.com</owner>
  <owner>compression-dev@google.com</owner>
  <summary>
    The compressed image size in KiB per image density measured in 0.01 bits per
    pixel. This is logged once per image load after the whole image is loaded
    and only for WebPs with at least 100 pixels on the smallest dimension (width
    or height). The reported count for a sample represents the image size
    rounded to the nearest KiB.
  </summary>
</histogram>

<histogram name="Blink.DecodedImage.WebPFileFormat" enum="WebPFileFormat"
    expires_after="2022-04-24">
  <owner>mcasas@chromium.org</owner>
  <owner>andrescj@chromium.org</owner>
  <summary>
    WebP file format parsed during Blink's header parsing phase (which should
    happen only once per image).
  </summary>
</histogram>

<histogram name="Blink.DecodedImageType" enum="DecodedImageType"
    expires_after="2022-04-24">
  <owner>urvang@chromium.org</owner>
  <summary>
    Image codec inferred during decode. The histogram is incremented when enough
    of the image has been downloaded to infer its width and height. Animated
    images are counted only once, regardless of how many frames there are.
  </summary>
</histogram>

<histogram base="true" name="Blink.DisplayLockIntersectionObserver.UpdateTime"
    units="microseconds" expires_after="2022-10-10">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent computing IntersectionObserver observations in the Blink document
    lifecycle where the observation is for Display Locking. Recorded when an
    intersection observation is made for the Display Locking reason.

    This histogram only records metrics on machines with high-resolution clocks.
  </summary>
</histogram>

<histogram name="Blink.EffectiveZoom" units="%" expires_after="2022-04-17">
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    The EffectiveZoom as reported by ComputedStyle in a Blink renderer. The
    value is reported each time the effective zoom is set to a new value. The
    maximum zoom reported is 400% to keep the histogram of reasonable size.
  </summary>
</histogram>

<histogram name="Blink.Fetch.ReducedUserAgent" enum="Boolean"
    expires_after="M100">
  <owner>abeyad@chromium.org</owner>
  <owner>aarontag@chromium.org</owner>
  <summary>
    Whether the User-Agent header that was sent for a subresource request had a
    reduced user agent string value. The reduced user agent string is only sent
    in the presence of a valid UserAgentReduction origin trial token. This
    histogram is recorded when a frame's subresource fetch request is being
    prepared.
  </summary>
</histogram>

<histogram name="Blink.Fetch.RequestResourceTime" units="microseconds"
    expires_after="M82">
  <owner>csharrison@chromium.org</owner>
  <summary>
    The total microseconds spent in ResourceFetcher::requestResource.

    Warning: This metric may include reports from clients with low-resolution
    clocks (i.e. on Windows, ref. |TimeTicks::IsHighResolution()|). Such reports
    will cause this metric to have an abnormal distribution. When considering
    revising this histogram, see UMA_HISTOGRAM_CUSTOM_MICROSECONDS_TIMES for the
    solution.
  </summary>
</histogram>

<histogram name="Blink.Fonts.AndroidFontLookupLoadFromFileTime" units="ms"
    expires_after="2021-10-15">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Records the duration it takes to load the font lookup table from file.
    Reported when the font unique name lookup table is loaded at browser startup
    on Android and loading was successful. The metric is not recorded when the
    file did not exist or could not be parsed; use
    Blink.Fonts.AndroidFontScanningLoadFromFileSuccess to determine how often
    this metric is recorded.
  </summary>
</histogram>

<histogram name="Blink.Fonts.AndroidFontLookupTableReadyTime" units="ms"
    expires_after="2021-10-15">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Records the duration it takes from starting to prepare the font lookup table
    until it is ready. Independent of whether it is loaded from file or whether
    the fonts are scanned. Reported when the font unique name lookup table is
    loaded at browser startup on Android.
  </summary>
</histogram>

<histogram name="Blink.Fonts.AndroidFontScanningLoadFromFileSuccess"
    enum="BooleanSuccess" expires_after="2021-10-15">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Counts the ratio of whether it was possible to load the font table from file
    successfully or not. Reported when the font unique name lookup table is
    loaded at browser startup on Android.
  </summary>
</histogram>

<histogram name="Blink.Fonts.AndroidFontScanningPersistToFileSuccess"
    enum="BooleanSuccess" expires_after="2021-10-15">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Counts the ratio of whether it was possible to store the font table to disk
    after the metadata has been indexed. Reported on Android when the font
    unique name lookup table is stored after indexing.
  </summary>
</histogram>

<histogram name="Blink.Fonts.AndroidFontScanningResult"
    enum="FontScanningResult" expires_after="2021-10-15">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Reports success or failure of extracting metadata from a single font file.
    Reported when the font unique name lookup table is rebuilt on Android (i.e.
    after a firmware update or first start with empty cache folder).
  </summary>
</histogram>

<histogram name="Blink.Fonts.AndroidFontScanningTableBuildTime" units="ms"
    expires_after="2021-10-15">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Records duration of scanning available fonts for font name metadata, sorting
    the list and making it available to renderers. Reported when the font unique
    name lookup table is rebuilt on Android (i.e. after a firmware update or
    first start with empty cache folder).
  </summary>
</histogram>

<histogram name="Blink.Fonts.AndroidFontScanningUpdateNeeded"
    enum="BooleanSuccess" expires_after="2021-10-15">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Counts the ratio of whether it was necessary to rebuild the font table or
    not. Reported when after the unique name lookup table is loaded from disk at
    browser startup on Android.
  </summary>
</histogram>

<histogram name="Blink.Fonts.DataAccess.StreamCreation" enum="BooleanSuccess"
    expires_after="2021-10-15">
  <owner>pwnall@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <owner>storage-dev@chromium.org</owner>
  <summary>
    Counts success or failure in attempting to obtain font bytes as stream with
    base address from Skia.
  </summary>
</histogram>

<histogram name="Blink.Fonts.EmojiClusterBrokenness" units="%"
    expires_after="2022-01-10">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Percentage of emoji clusters of all emoji clusters going through shaping
    calls that are shaped as either .notdef/tofu glyphs or are shapes as more
    than one glyph, which usually indicates that an emoji sequence was not
    shaped correctly due to the emoji font not supporting it. Recorded per
    page/worker and on page unload if the page contained emoji.
  </summary>
</histogram>

<histogram name="Blink.Fonts.Enumeration.Duration" units="ms"
    expires_after="2021-10-15">
  <obsolete>
    Removed in M89. Obsolete and unused. This has been replaced with
    Fonts.AccessAPI.EnumerationCache.*
  </obsolete>
  <owner>pwnall@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <owner>storage-dev@chromium.org</owner>
  <summary>
    Records duration of enumerating available fonts for font name metadata.
    Reported on Mac platforms only, when the fonts are enumerated from the
    system APIs if there is a cache miss.
  </summary>
</histogram>

<histogram name="Blink.Fonts.FontFamilyMatchAttempts.System" units="attempts"
    expires_after="2021-12-20">
  <owner>caraitto@chromium.org</owner>
  <owner>privacy-sandbox-dev@chromium.org</owner>
  <summary>
    Number of system font family match attempts made, from page load to page
    unload. Recorded on page unload.
  </summary>
</histogram>

<histogram name="Blink.Fonts.FontMatchAttempts.System" units="attempts"
    expires_after="2021-12-20">
  <owner>caraitto@chromium.org</owner>
  <owner>privacy-sandbox-dev@chromium.org</owner>
  <summary>
    Number of system font match attempts (success + failure) made via @font-face
    src:local(), from page load to page unload. Recorded on page unload.
  </summary>
</histogram>

<histogram name="Blink.Fonts.ShapeCache" units="units"
    expires_after="2021-10-15">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Total number of entries in all Blink ShapeCache instances. The value is
    reported each time the FontCache::purge() method is called.
  </summary>
</histogram>

<histogram name="Blink.Fonts.VariableFontsRatio"
    enum="WebFontInstantiationResult" expires_after="2022-04-10">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Tracks adoption ratio of variable fonts compared to conventional (in the
    sense of non-variable) web fonts. Recorded at the time of instantiating a
    Skia SkTypeface from the successfully decoded web font blob.
  </summary>
</histogram>

<histogram name="Blink.Fonts.WindowsUniqueLocalFontInstantiationResult"
    enum="WindowsUniqueLocalFontInstantiationResult" expires_after="2021-10-15">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Tracks whether a locally uniquely matched font can be instantiated inside
    the renderer. Recorded at the time the renderer tries to instantiate the
    font in the font cache. If it fails (in rare cases), it can either be caused
    by the font being placed outside the Windows Fonts directory, or for an
    unknown reason. Track this to identify whether a browser side helper is
    needed to open the file handle outside the sandbox and pass it into the
    renderer.
  </summary>
</histogram>

<histogram name="Blink.Fonts.WinFallback.LegacyNoneFound" units="units"
    expires_after="2021-10-15">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Tracks Blink Windows font fallback results while migrating to API based
    fallback vs. the previous use of a hard-coded list. Records a data point
    when the legacy hard-coded list code did not find fallback for a particular
    Unicode code block ID (ICU::UBlockCode). Recorded at the time of Blink
    layout code requesting a fallback font for a character and locale.
  </summary>
</histogram>

<histogram name="Blink.Fonts.WinFallback.LegacyWinAPIDisagree" units="units"
    expires_after="2021-10-15">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Tracks Blink Windows font fallback results while migrating to API based
    fallback vs. the previous use of a hard-coded list. Records a data point
    when the Windows API out of process fallback code and the legacy hard-coded
    list fallback code disagree in fallback font result for a particular Unicode
    code block ID (ICU::UBlockCode). Recorded at the time of Blink layout code
    requesting a fallback font for a character and locale.
  </summary>
</histogram>

<histogram name="Blink.Fonts.WinFallback.NoFallbackFound" units="units"
    expires_after="2021-10-15">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Tracks Blink Windows font fallback results while migrating to API based
    fallback vs. the previous use of a hard-coded list. Records a data point
    when no fallback font result was found for a particular Unicode code block
    ID (ICU::UBlockCode) through either the out-of-process Windows DWrite API or
    the hard-coded list fallback code. Recorded at the time of Blink layout code
    requesting a fallback font for a character and locale.
  </summary>
</histogram>

<histogram name="Blink.Fonts.WinFallback.WinAPINoneFound" units="units"
    expires_after="2021-10-15">
  <owner>drott@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Tracks Blink Windows font fallback results while migrating to API based
    fallback vs. the previous use of a hard-coded list. Records a data point
    when the Windows API out of process fallback code did not find fallback for
    a particular Unicode code block ID (ICU::UBlockCode). Recorded at the time
    of Blink layout code requesting a fallback font for a character and locale.
  </summary>
</histogram>

<histogram base="true" name="Blink.ForcedStyleAndLayout.UpdateTime"
    units="microseconds" expires_after="2022-04-10">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent computing layouts due to Javascript value requests. Specifically,
    time spent in Blink Document::UpdateStyleAndLayout.

    This histogram only records metrics on machines with high-resolution clocks.
  </summary>
</histogram>

<histogram base="true" name="Blink.HandleInputEvents.UpdateTime"
    units="microseconds" expires_after="2022-04-03">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent processing rAF-aligned input during a main frame update.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram base="true" name="Blink.HitTestDocumentUpdate.UpdateTime"
    units="microseconds" expires_after="2022-03-13">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent preparing the document for hit testing during a main frame
    update. It does not compute the actual hit test time, rather the style,
    layout, compositing, etc time to prepare for the test.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.ChunkCount" units="chunks"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    The number of chunks parsed while loading a page. Each chunk represents a
    piece of the HTML content that can be loaded without blocking or yielding.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.ChunkCount2" units="chunks"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    The number of chunks parsed while loading a page. Each chunk represents a
    piece of the HTML content that can be loaded without blocking or yielding.
    This version is for Forced Synchronous HTML Parsing.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.InputCharacterCount" units="characters"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    The number of characters processed while parsing a document during page
    load. This is computed as the sum of all the characters appended to the
    input string sequence for the parser.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.ParsingTimeMax" units="microseconds"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the maximum time used to parse a single chunk before
    being blocked, yielding or completing, in microseconds.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.ParsingTimeMax2" units="microseconds"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the maximum time used to parse a single chunk before
    being blocked, yielding or completing, in microseconds. This version is for
    Forced Synchronous HTML Parsing.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.ParsingTimeMin" units="microseconds"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the minimum time used to parse a single chunk before
    being blocked, yielding or completing, in microseconds.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.ParsingTimeMin2" units="microseconds"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the minimum time used to parse a single chunk before
    being blocked, yielding or completing, in microseconds. This version is for
    Forced Synchronous HTML Parsing.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.ParsingTimeTotal" units="microseconds"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the total amount of time spent in the
    HTMLDocumentParser performing parsing, in microseconds.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.ParsingTimeTotal2" units="microseconds"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the total amount of time spent in the
    HTMLDocumentParser performing parsing, in microseconds. This version is for
    Forced Synchronous HTML Parsing.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.TokensParsedAverage" units="tokens"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the average number of tokens parsed across all chunks.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.TokensParsedAverage2" units="tokens"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the average number of tokens parsed across all chunks.
    This version is for Forced Synchronous HTML Parsing.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.TokensParsedMax" units="tokens"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the maximum number of tokens parsed as a chunk.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.TokensParsedMax2" units="tokens"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the maximum number of tokens parsed as a chunk. This
    version is for Forced Synchronous HTML Parsing.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.TokensParsedMin" units="tokens"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the minimum number of tokens parsed as a chunk.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.TokensParsedMin2" units="tokens"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the minimum number of tokens parsed as a chunk. This
    version is for Forced Synchronous HTML Parsing.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.TokensParsedTotal" units="tokens"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the total number of tokens parsed across all chunks.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.TokensParsedTotal2" units="tokens"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the total number of tokens parsed across all chunks.
    This version is for Forced Synchronous HTML Parsing.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.YieldedTimeAverage" units="microseconds"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the average time between parsing of two chunks, in
    microseconds. Will not be recorded if only one chunk was parsed.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.YieldedTimeAverage2" units="microseconds"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the average time between parsing of two chunks, in
    microseconds. Will not be recorded if only one chunk was parsed. This
    version is for Forced Synchronous HTML Parsing.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.YieldedTimeMax" units="microseconds"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the maximum time between parsing of two chunks, in
    microseconds. Will not be recorded if only one chunk was parsed.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.YieldedTimeMax2" units="microseconds"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the maximum time between parsing of two chunks, in
    microseconds. Will not be recorded if only one chunk was parsed. This
    version is for Forced Synchronous HTML Parsing.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.YieldedTimeMin" units="microseconds"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the minimum time between parsing of two chunks, in
    microseconds. Will not be recorded if only one chunk was parsed.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.HTMLParsing.YieldedTimeMin2" units="microseconds"
    expires_after="2022-06-30">
  <owner>schenney@chromium.org</owner>
  <owner>dom-dev@chromium.org</owner>
  <summary>
    While parsing a page, the minimum time between parsing of two chunks, in
    microseconds. Will not be recorded if only one chunk was parsed. This
    version is for Forced Synchronous HTML Parsing.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.ImageDecoders.IncrementalDecodeNeeded"
    enum="IncrementalDecodeNeeded" expires_after="2022-09-15">
  <owner>andrescj@chromium.org</owner>
  <owner>chromeos-gfx@google.com</owner>
  <summary>
    For JPEG and WebP images, whether all image data has been received before
    decoding begins or whether we are still receiving data and will need to send
    partial image data to the decoder and pause/resume decoding until complete.

    It is emitted when the DeferredImageDecoder is about to create the first
    DecodingImageGenerator for an image.
  </summary>
</histogram>

<histogram
    name="Blink.ImageDecoders.IncrementallyDecodedByteSize{BlinkIncrementalDecodeImageTypes}"
    units="bytes" expires_after="2021-11-14">
  <owner>mbarowsky@chromium.org</owner>
  <owner>andrescj@chromium.org</owner>
  <summary>
    Images for which only partial image data has been received before decoding
    begins. This may be because the image is very large or complex (less
    compressed) or because of slow network or resource loading. More precisely,
    the bucket in which the decode will be counted (IncrementallyDecoded or
    InitiallyFullyDecoded) is computed when the DeferredImageDecoder is about to
    create the first DecodingImageGenerator for an image and the byte size is
    emitted when all data is received. {BlinkIncrementalDecodeImageTypes}
  </summary>
  <token key="BlinkIncrementalDecodeImageTypes"
      variants="BlinkIncrementalDecodeImageTypes">
    <variant name="">
      <obsolete>
        Base histogram. Use suffixes of this histogram instead.
      </obsolete>
    </variant>
  </token>
</histogram>

<histogram
    name="Blink.ImageDecoders.InitiallyFullyDecodedByteSize{BlinkIncrementalDecodeImageTypes}"
    units="bytes" expires_after="2021-12-19">
  <owner>mbarowsky@chromium.org</owner>
  <owner>andrescj@chromium.org</owner>
  <summary>
    Images for which all image data has been received before decoding begins.
    This may be because the image has a small file size (very compressed),
    because of a fast network/resource loading connection, because the data was
    preloaded with JavaScript, or because a decode was requested through
    JavaScript IMG.decode() API, which must wait for all data to be received per
    the specification. More precisely, the bucket in which the decode will be
    counted (IncrementallyDecoded or InitiallyFullyDecoded) is computed when the
    DeferredImageDecoder is about to create the first DecodingImageGenerator for
    an image and the byte size is emitted when all data is received.
    {BlinkIncrementalDecodeImageTypes}
  </summary>
  <token key="BlinkIncrementalDecodeImageTypes"
      variants="BlinkIncrementalDecodeImageTypes">
    <variant name="">
      <obsolete>
        Base histogram. Use suffixes of this histogram instead.
      </obsolete>
    </variant>
  </token>
</histogram>

<histogram name="Blink.ImageDecoders.Jpeg.Area" units="pixels"
    expires_after="2022-05-01">
  <owner>andrescj@chromium.org</owner>
  <owner>src/third_party/blink/renderer/platform/image-decoders/OWNERS</owner>
  <summary>
    Number of pixels in a decoded JPEG image. Recorded after decoding is done by
    Blink's JPEG decoder (as opposed to, possibly, a hardware decode
    accelerator). Tracking the image area may include degenerate cases, e.g., an
    image with area = 10000 and dimensions = 1x10000. However, it is reasonable
    to assume these cases are relatively rare and the area of the image can
    serve as a proxy of how useful a decode accelerator can be (the larger the
    area, the better).
  </summary>
</histogram>

<histogram name="Blink.ImageDecoders.Jpeg.ColorSpace" enum="JpegColorSpace"
    expires_after="2022-05-01">
  <owner>andrescj@chromium.org</owner>
  <owner>mcasas@chromium.org</owner>
  <summary>
    JPEG color space of a decoded image as guessed by libjpeg_turbo. Recorded
    after decoding is done by Blink's JPEG decoder (as opposed to, possibly, a
    hardware decode accelerator). When the color space is YCbCr, the chroma
    subsampling is also recorded.
  </summary>
</histogram>

<histogram name="Blink.ImageDecoders.Png.FirstDecode.Area" units="pixels"
    expires_after="2022-06-30">
  <owner>nigeltao@chromium.org</owner>
  <owner>scroggo@google.com</owner>
  <summary>
    Number of pixels in a completely decoded PNG image frame.
    &quot;Complete&quot; and &quot;First&quot; mean the same things as for the
    Blink.ImageDecoders.Png.FirstDecode.Time histogram.
  </summary>
</histogram>

<histogram name="Blink.ImageDecoders.{Type}.{Index}Decode.Time" units="ms"
    expires_after="2022-06-30">
  <owner>nigeltao@chromium.org</owner>
  <owner>scroggo@google.com</owner>
  <summary>
    Time taken to completely decode an image frame of the {Type} file format.
    This includes time spent in codec implementations but excludes time spent
    waiting for the network or file cache to deliver the source bytes.

    For incremental decoding, e.g. the source bytes involve multiple network
    events, only the final event (producing a complete image frame) triggers a
    histogram record, but that record holds the total time spent on that frame.

    Incomplete (partially decoded) image frames (e.g. navigating away from the
    web page before any of its images fully loaded) are not recorded here, but
    they still might be recorded in the separate Blink.DecodedImageType
    histogram if the partial decoding was able to determine width and height.

    An image's frames may be decoded more than once. If so, {Index}
    distinguishes whether every decode of every frame is tracked or just the
    first (not repeated) decode of the first (not later) frame.

    For an example of repeated (not first) decodes, when switching between tabs
    or scrolling a web page, a previously decoded frame may be discarded so that
    the backing memory can be re-used elsewhere. When that image comes back into
    view, its frame may need decoding again.

    For an example of later (not first) frames, animated images may produce
    multiple frames from a single img tag. Looping animations may be able to
    cache all of the decoded frames after the first playthrough but, if too big
    to cache, playing the loop continually may keep adding Every histogram
    records as uncached frames are repeatedly decoded.

    The Every {Index} correlates more with &quot;how much CPU time (which
    correlates with battery consumption) is spent overall in {Type}
    decoding&quot;. The First {Index} correlates more with &quot;how long until
    First Contentful Paint&quot;.
  </summary>
  <token key="Type">
    <variant name="Avif"/>
    <variant name="Bmp"/>
    <variant name="Gif"/>
    <variant name="Ico"/>
    <variant name="Jpeg"/>
    <variant name="Jxl"/>
    <variant name="Png"/>
    <variant name="WebP"/>
  </token>
  <token key="Index">
    <variant name="Every"/>
    <variant name="First"/>
  </token>
</histogram>

<histogram base="true" name="Blink.ImplCompositorCommit.UpdateTime"
    units="microseconds" expires_after="2022-03-13">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent updating layers in the compositor thread during a
    ProxyMain::BeginMainFrame. It is the actual work time, excluding time spent
    waiting for the compositor thread to begin.

    Note: This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.Input.GestureScrollBeginAsCursorControl"
    enum="BooleanSuccess" expires_after="M91">
  <owner>ctzsm@chromium.org</owner>
  <owner>changwan@chromium.org</owner>
  <owner>input-dev@chromium.org</owner>
  <summary>Records if a GestureScrollBegin is for cursor control.</summary>
</histogram>

<histogram base="true" name="Blink.IntersectionObservation.UpdateTime"
    units="microseconds" expires_after="2022-10-10">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent computing IntersectionObserver observations in the Blink document
    lifecycle.

    Note: As of M70, this histogram has stopped recording metrics on machines
    with low-resolution clocks.
  </summary>
</histogram>

<histogram name="Blink.JavaJsBridge.MethodInvocationError"
    enum="JavaJsBridgeMethodInvocationError" expires_after="2022-03-11">
  <owner>torne@chromium.org</owner>
  <owner>src/android_webview/OWNERS</owner>
  <summary>Records the Java/JS bridge method invocation errors.</summary>
</histogram>

<histogram base="true" name="Blink.JavascriptDocumentUpdate.UpdateTime"
    units="microseconds" expires_after="2022-04-24">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent preparing the document to answer a Javascript API query or
    request. Examples include scrool offset requests, queries of layout
    dimensions, SVG path queries, etc. Includes time spent in style update and
    layout, or via EnsurePaintLocationDataValidForNode. Some of these calls may
    be servicing internal needs, but we have no way to disambiguate those from
    JS driven activity.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram base="true" name="Blink.JavascriptIntersectionObserver.UpdateTime"
    units="microseconds" expires_after="2022-10-10">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent computing IntersectionObserver observations in the Blink document
    lifecycle where the observation is due to a Javascript request. Recorded
    when an intersection observation is made for the Javascript reason.

    This histogram only records metrics on machines with high-resolution clocks.
  </summary>
</histogram>

<histogram name="Blink.KeyboardLock.MethodCalled" enum="KeyboardLockMethods"
    expires_after="2022-06-30">
  <owner>joedow@chromium.org</owner>
  <owner>garykac@chromium.org</owner>
  <summary>
    Records each call to the navigator.keyboard{Lock|Unlock} methods.
  </summary>
</histogram>

<histogram name="Blink.Layout.FlexNGRatio.Blocks" units="%"
    expires_after="2022-09-30">
  <owner>ikilpatrick@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Records FlexNG block percentage.

    This records the percentage of LayoutNGFlexibleBox objects, compared with
    the total number of blocks. This is recorded once per page on unloading the
    page. A value takes into account of all frames in a single page.

    See https://bit.ly/ng-ratio for more details.
  </summary>
</histogram>

<histogram name="Blink.Layout.GridNGRatio.Blocks" units="%"
    expires_after="2022-09-30">
  <owner>ikilpatrick@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Records GridNG block percentage.

    This records the percentage of LayoutNGGrid objects, compared with the total
    number of blocks. This is recorded once per page on unloading the page. A
    value takes into account of all frames in a single page.

    See https://bit.ly/ng-ratio for more details.
  </summary>
</histogram>

<histogram name="Blink.Layout.NGRatio.Blocks" units="%"
    expires_after="2022-09-30">
  <owner>tkent@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Records LayoutNG ratio for the number of blocks.

    This records a percentage of LayoutNG-based blocks relative to all blocks.
    This is recorded once per page on unloading the page. A value takes into
    account of all frames in a single page.

    See https://bit.ly/ng-ratio for more details.
  </summary>
</histogram>

<histogram name="Blink.Layout.NGRatio.Calls" units="%"
    expires_after="2022-09-30">
  <owner>tkent@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Records LayoutNG ratio for the number of UpdateLayout calls.

    This records a percentage of UpdateLayout() calls for LayoutNG-based objects
    relative to all UpdateLayout() calls. This is recorded once per page on
    unloading the page. A value takes into account of all frames in a single
    page.

    See https://bit.ly/ng-ratio for more details.
  </summary>
</histogram>

<histogram base="true" name="Blink.Layout.UpdateTime" units="microseconds"
    expires_after="2022-03-13">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Time spent updating layout in the Blink document lifecycle.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram
    name="Blink.LazyLoad.CrossOriginFrames.InitialDeferralAction{BlinkLazyLoadEffectiveConnectionTypeSuffixes}"
    enum="LazyLoad.FrameInitialDeferralAction" expires_after="2021-03-07">
  <owner>sclittle@chromium.org</owner>
  <summary>
    Records the initial lazy loading action taken for a cross-origin iframe.
    {BlinkLazyLoadEffectiveConnectionTypeSuffixes}
  </summary>
  <token key="BlinkLazyLoadEffectiveConnectionTypeSuffixes">
    <variant name=""/>
    <variant name=".2G" summary="2G effective connection type"/>
    <variant name=".3G" summary="3G effective connection type"/>
    <variant name=".4G" summary="4G effective connection type"/>
    <variant name=".Offline" summary="Offline effective connection type"/>
    <variant name=".Slow2G" summary="Slow-2G effective connection type"/>
    <variant name=".Unknown" summary="Unknown effective connection type"/>
  </token>
</histogram>

<histogram
    name="Blink.LazyLoad.CrossOriginFrames.LoadStartedAfterBeingDeferred"
    enum="NQEEffectiveConnectionType" expires_after="2021-02-21">
  <owner>sclittle@chromium.org</owner>
  <summary>
    Records the effective connection type whenever a lazily-loaded iframe that
    wasn't initially hidden or near the viewport starts loading. The count for
    an effective connection type in this histogram can be subtracted from the
    'Deferred' bucket from the
    Blink.LazyLoad.CrossOriginFrames.InitialDeferralAction.* histogram for the
    corresponding effective connection type to determine the number of iframes
    that LazyLoad is avoiding to load altogether.
  </summary>
</histogram>

<histogram name="Blink.LazyLoad.CrossOriginFrames.VisibleAfterBeingDeferred"
    enum="NQEEffectiveConnectionType" expires_after="2021-02-21">
  <owner>sclittle@chromium.org</owner>
  <summary>
    Records the effective connection type whenever a lazily-loaded iframe that
    wasn't initially hidden or near the viewport becomes visible. The count for
    an effective connection type in this histogram can be subtracted from the
    corresponding count in
    Blink.LazyLoad.CrossOriginFrames.LoadStartedAfterBeingDeferred to determine
    how many iframes were loaded unnecessarily by LazyLoad.
  </summary>
</histogram>

<histogram base="true" name="Blink.LazyLoadIntersectionObserver.UpdateTime"
    units="microseconds" expires_after="2022-10-10">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent computing IntersectionObserver observations in the Blink document
    lifecycle where the observation is due to a Lazy Image Loading request.
    Recorded when an intersection observation is made to determine when a lazy
    loaded image should be loaded.

    This histogram only records metrics on machines with high-resolution clocks.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.AnimateRatio" units="%"
    expires_after="2020-11-08">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is used for computing Main Frame animations and rAF callbacks.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.CompositingAssignmentsRatio"
    units="%" expires_after="2020-11-08">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is used for computing compositing assignments.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.CompositingCommitRatio" units="%"
    expires_after="2020-11-08">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is used for committing paint results to the compositor.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.CompositingInputsRatio" units="%"
    expires_after="2020-11-08">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is used for computing compositing inputs.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.CompositingRatio" units="%"
    expires_after="2020-11-08">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is used for computing Compositing.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.ForcedStyleAndLayoutRatio"
    units="%" expires_after="2021-01-10">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The time between each paint results commit used in computing forced style
    recalc and layouts for this document and ancestors as a percentage of the
    Blink local frame lifecycle update time.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.HandleInputEventsRatio" units="%"
    expires_after="2020-11-08">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is used for processing rAF aligned input.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.HitTestDocumentUpdateRatio"
    units="%" expires_after="2020-11-08">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is used for updating the document in preparation for hit testing.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.ImplCompositorCommitRatio"
    units="%" expires_after="2020-11-08">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is used for committing the layer tree to the impl thread,
    excluding time spend waiting for the CC thread to begin processing.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.IntersectionObservationRatio"
    units="%" expires_after="2021-08-09">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is used for computing Intersection Observations.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.LayoutRatio" units="%"
    expires_after="2021-03-21">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is used for computing Layout.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.PaintRatio" units="%"
    expires_after="2021-03-21">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is used for computing Paint.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.PrePaintRatio" units="%"
    expires_after="2020-11-08">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is used for computing PrePaint.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.ScrollingCoordinatorRatio"
    units="%" expires_after="M88">
  <obsolete>
    Merged into Blink.MainFrame.CompositingCommitRatio in
    http://crrev.com/815947 in M88.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of the total BeginMainFrame execution time used for the
    ScrollingCoordinator update in Blink, for each frame that we record.
    Recorded in ScrollingCoordinator::UpdateAfterPaint.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.StyleRatio" units="%"
    expires_after="2020-11-08">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is used for computing Style.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.UpdateLayersRatio" units="%"
    expires_after="2021-03-21">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is spent in LayerTreeHost::UpdateLayers.
  </summary>
</histogram>

<histogram base="true" name="Blink.MainFrame.UpdateTime" units="microseconds"
    expires_after="2022-05-01">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time between a BeginMainFrame and paint results commit in Blink.

    This histogram will not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.MainFrame.WaitForCommitRatio" units="%"
    expires_after="2020-11-08">
  <obsolete>
    Removed M88 due to lack of use.
  </obsolete>
  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
<!-- Name completed by histogram_suffixes name="BlinkMainFrameUpdateTimeSuffixes" -->

  <summary>
    The percentage of time between a BeginMainFrame and paint results commit in
    Blink that is spent waiting for the CC thread to begin processing.
  </summary>
</histogram>

<histogram base="true" name="Blink.MediaIntersectionObserver.UpdateTime"
    units="microseconds" expires_after="2022-10-10">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent computing IntersectionObserver observations in the Blink document
    lifecycle where the observation is for a media element. Recorded when an
    intersection observation is made attributed to a media element (such as
    video auto-play).

    This histogram only records metrics on machines with high-resolution clocks.
  </summary>
</histogram>

<histogram name="Blink.MemoryCache.RevalidationPolicy"
    enum="RevalidationPolicy" expires_after="2021-04-21">
  <owner>hiroshige@chromium.org</owner>
  <owner>loading-dev@chromium.org</owner>
  <summary>
    RevalidationPolicy used for non-preloading requests for each resource type.
    https://crbug.com/579496
  </summary>
</histogram>

<histogram name="Blink.MemoryCache.RevalidationPolicy.AsyncScript"
    enum="RevalidationPolicy" expires_after="2021-10-25">
  <owner>hiroshige@chromium.org</owner>
  <owner>lizeb@chromium.org</owner>
  <owner>loading-dev@chromium.org</owner>
  <summary>
    RevalidationPolicy used for non-preloading requests of async and defer
    scripts. https://crbug.com/1043679
  </summary>
</histogram>

<histogram name="Blink.MemoryCache.RevalidationPolicy.Dead"
    enum="RevalidationPolicy" expires_after="2021-04-21">
  <owner>hiroshige@chromium.org</owner>
  <owner>loading-dev@chromium.org</owner>
  <summary>
    RevalidationPolicy used for requests that hit Resource only referenced from
    MemoryCache for each resource type. https://crbug.com/579496 Requests
    counted by this are also counted by Blink.MemoryCache.RevalidationPolicy or
    Blink.MemoryCache.RevalidationPolicy.Preload.
  </summary>
</histogram>

<histogram name="Blink.MemoryCache.RevalidationPolicy.PerDocument"
    enum="RevalidationPolicy" expires_after="2021-06-20">
  <obsolete>
    Removed in M89. Obsolete and unused. This has been replaced with
    Blink.MemoryCache.RevalidationPolicy with feature
    ScopeMemoryCachePerContext.
  </obsolete>
  <owner>shivanisha@chromium.org</owner>
  <owner>privacy-sandbox-dev@chromium.org</owner>
  <summary>
    RevalidationPolicy used for requests for each resource type. Logged only if
    the resource is found in the memory cache and if the same document had
    loaded this resource earlier.
  </summary>
</histogram>

<histogram name="Blink.MemoryCache.RevalidationPolicy.PerTopFrameSite"
    enum="RevalidationPolicy" expires_after="2021-12-26">
  <owner>shivanisha@chromium.org</owner>
  <owner>privacy-sandbox-dev@chromium.org</owner>
  <summary>
    RevalidationPolicy used for requests for each resource type. Logged only if
    the resource is found in the memory cache and if the same top-frame site had
    loaded this resource earlier.
  </summary>
</histogram>

<histogram name="Blink.MemoryCache.RevalidationPolicy.Preload"
    enum="RevalidationPolicy" expires_after="2021-04-21">
  <owner>hiroshige@chromium.org</owner>
  <owner>loading-dev@chromium.org</owner>
  <summary>
    RevalidationPolicy used for preloading requests for each resource type.
    https://crbug.com/579496
  </summary>
</histogram>

<histogram name="Blink.Navigator.ReducedUserAgent" enum="Boolean"
    expires_after="M100">
  <owner>abeyad@chromium.org</owner>
  <owner>aarontag@chromium.org</owner>
  <summary>
    Whether the navigator.userAgent and navigator.appVersion JavaScript getters
    returned a reduced user agent string value. The reduced user agent string is
    only returned in the presence of a valid UserAgentReduction origin trial
    token. This histogram is recorded when the navigator.userAgent and
    navigator.appVersion JavaScript APIs are invoked.
  </summary>
</histogram>

<histogram name="Blink.NotificationManager.GetPermissionStatusTime" units="ms"
    expires_after="2022-08-24">
  <owner>cduvall@chromium.org</owner>
  <owner>jam@chromium.org</owner>
  <summary>
    The time taken to query the notification permission status. This is recorded
    each time a sync call is made.
  </summary>
</histogram>

<histogram name="Blink.OffscreenCanvas.ContextType" enum="CanvasContextType"
    expires_after="2021-10-17">
  <obsolete>
    Retired in M96, replaced by OffscreenCanvas_* buckets in
    Blink.UseCounter.Features wich records at most one count per page visit per
    context type, as opposed to one count per context creation.
  </obsolete>
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    Records the context type names used to create offscreen canvas rendering
    contexts. Recorded in OffscreenCanvas::GetCanvasRenderingContext
  </summary>
</histogram>

<histogram name="Blink.OffscreenCanvas.NewOffscreenCanvas" enum="Boolean"
    expires_after="2022-04-04">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    Records the creation of a new offscreen canvas in OffscreenCanvas::Create.
  </summary>
</histogram>

<histogram name="Blink.OffscreenCanvas.SqrtNumberOfPixels" units="sqrt(pixels)"
    expires_after="2022-04-04">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    Stores the square root of the number of pixels in a new or resized offscreen
    canvas. Emitted from CanvasRenderingContextHost::RecordCanvasSizeToUMA.
  </summary>
</histogram>

<histogram name="Blink.OffscreenCanvas.TransferControlToOffscreen"
    enum="BooleanSuccess" expires_after="2022-04-04">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>Records a call to transfer a canvas offscreen.</summary>
</histogram>

<histogram name="Blink.OffscreenCanvas.Transferred" enum="Boolean"
    expires_after="2022-04-04">
  <owner>aaronhk@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <summary>
    Records when an offscreen canvas has been transferred from the main thread
    to a worker.
  </summary>
</histogram>

<histogram name="Blink.Paint.CachedItemPercentage" units="%"
    expires_after="2021-07-01">
  <obsolete>
    Removed June 2021.
  </obsolete>
  <owner>wangxianzhu@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Percentage of cached display items among all display items. Higher value
    means higher performance beause of less paint invalidation. Recorded when we
    finish updating paint in the Blink document lifecycle.
  </summary>
</histogram>

<histogram name="Blink.Paint.CachedSubsequencePercentage" units="%"
    expires_after="2021-07-01">
  <obsolete>
    Removed June 2021.
  </obsolete>
  <owner>wangxianzhu@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Percentage of cached subsequences of display items among all subsequences.
    Higher value means higher performance beause of less subsequence
    invalidation. Recorded when we finish updating paint in the Blink document
    lifecycle.
  </summary>
</histogram>

<histogram base="true" name="Blink.Paint.UpdateTime" units="microseconds"
    expires_after="2022-05-01">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent updating paint in the Blink document lifecycle.

    Note: As of M70, this histogram has stopped recording metrics on machines
    with low-resolution clocks.
  </summary>
</histogram>

<histogram name="Blink.Plugin.UpdateTime" units="ms" expires_after="2022-06-09">
  <owner>cduvall@chromium.org</owner>
  <owner>jam@chromium.org</owner>
  <summary>
    Measures the time it takes to update the plugin list. This can happen, for
    example, during Navigator.plugins.get.
  </summary>
</histogram>

<histogram base="true" name="Blink.PrePaint.UpdateTime" units="microseconds"
    expires_after="2022-03-06">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent updating paint properties and paint invalidation in the Blink
    document lifecycle. Available when SlimmingPaintInvalidation or
    SlimmingPaintV2 is enabled.

    Note: As of M70, this histogram has stopped recording metrics on machines
    with low-resolution clocks.
  </summary>
</histogram>

<histogram name="Blink.Render.DisplayLockActivationReason"
    enum="DisplayLockActivationReason" expires_after="2021-12-12">
  <obsolete>
    Removed 11/2021.
  </obsolete>
  <owner>vmpstr@chromium.org</owner>
  <owner>chrishtr@chromium.org</owner>
  <summary>This indicates the reason for display-locking activation</summary>
</histogram>

<histogram name="Blink.ResourceFetcher.StaleWhileRevalidateDuration" units="ms"
    expires_after="2020-04-05">
  <obsolete>
    Removed 12/2020.
  </obsolete>
  <owner>dtapuska@chromium.org</owner>
  <owner>kenjibaheux@google.com</owner>
  <summary>Duration of completed stale revalidation attempts.</summary>
</histogram>

<histogram name="Blink.ResourceLoadScheduler.TrafficBytes.KBPerFrameStatus"
    enum="RendererSchedulerFrameType2" expires_after="2020-02-02">
  <owner>toyoshim@chromium.org</owner>
  <owner>altimin@chromium.org</owner>
  <summary>
    Total encoded size of resources associated with frames of a particular type.
    Recorded when a fetch has been completed.

    Each bucket of the histogram cointains the total size of all requests
    associated with frames with a particular frame status in kilobytes.
  </summary>
</histogram>

<histogram name="Blink.ResourceRequest.CompletionDelay" units="ms"
    expires_after="2022-08-29">
  <owner>cduvall@chromium.org</owner>
  <owner>jam@chromium.org</owner>
  <summary>
    Measures the time from when a resource request completes to when the
    renderer is notified. Logged for every resource request.
  </summary>
</histogram>

<histogram name="Blink.ResourceRequest.RedirectDelay" units="ms"
    expires_after="2022-08-29">
  <owner>cduvall@chromium.org</owner>
  <owner>jam@chromium.org</owner>
  <summary>
    Measures the time from when a redirect from a resource request happens to
    when the renderer is notified. Logged for every resource request redirect.
  </summary>
</histogram>

<histogram name="Blink.ResourceRequest.ResponseDelay" units="ms"
    expires_after="2022-08-29">
  <owner>cduvall@chromium.org</owner>
  <owner>jam@chromium.org</owner>
  <summary>
    Measures the time from when a response from a resource request is started to
    when the renderer is notified. Logged for every resource request.
  </summary>
</histogram>

<histogram name="Blink.ResourceRequest.StartDelay" units="ms"
    expires_after="2022-08-29">
  <owner>cduvall@chromium.org</owner>
  <owner>jam@chromium.org</owner>
  <summary>
    Measures the time from when the renderer starts a resource request to when
    it is actually started on the network. Logged for every resource request.
  </summary>
</histogram>

<histogram name="Blink.ScanPendingActivityDuration" units="ms"
    expires_after="M85">
  <owner>haraken@chromium.org</owner>
  <summary>
    Duration of time taken to scan pending activities of all V8 wrappers in a
    worker thread.
  </summary>
</histogram>

<histogram name="Blink.Script.AsyncScriptCount" units="count"
    expires_after="2022-04-04">
  <owner>dom@chromium.org</owner>
  <owner>chrome-loading@google.com</owner>
  <summary>
    The total number of async scripts associated with a document at the time
    parsing has finished.
  </summary>
</histogram>

<histogram name="Blink.Script.ForceDeferredScripts.Mainframe" units="count"
    expires_after="2021-05-02">
  <obsolete>
    Obsoleted Feb 2021.
  </obsolete>
  <owner>dougarnett@chromium.org</owner>
  <owner>hiroshige@chromium.org</owner>
  <summary>
    Number of synchronous scripts that were deferred for a mainframe by the
    ForceDeferScriptIntervention. This includes both inline scripts and external
    scripts that had their execution deferred until after parsing completes.
    Recorded when there is at least one force deferred script for the frame.
  </summary>
</histogram>

<histogram name="Blink.Script.ForceDeferredScripts.Mainframe.External"
    units="count" expires_after="2021-05-02">
  <obsolete>
    Obsoleted Feb 2021.
  </obsolete>
  <owner>dougarnett@chromium.org</owner>
  <owner>hiroshige@chromium.org</owner>
  <summary>
    Number of external synchronous scripts that were deferred for a mainframe by
    the ForceDeferScriptIntervention. Recorded when there is at least one force
    deferred script for the frame (not necessarily external).
  </summary>
</histogram>

<histogram name="Blink.Script.ForceDeferredScripts.Subframe" units="count"
    expires_after="2021-02-28">
  <obsolete>
    Obsoleted Feb 2021.
  </obsolete>
  <owner>dougarnett@chromium.org</owner>
  <owner>hiroshige@chromium.org</owner>
  <summary>
    Number of synchronous scripts that were deferred for a subframe by the
    ForceDeferScriptIntervention. This includes both inline scripts and external
    scripts that had their execution deferred until after parsing completes.
    Recorded when there is at least one force deferred script for the frame.
  </summary>
</histogram>

<histogram name="Blink.Script.ForceDeferredScripts.Subframe.External"
    units="count" expires_after="2021-02-28">
  <obsolete>
    Obsoleted Feb 2021.
  </obsolete>
  <owner>dougarnett@chromium.org</owner>
  <owner>hiroshige@chromium.org</owner>
  <summary>
    Number of external synchronous scripts that were deferred for a subframe by
    the ForceDeferScriptIntervention. Recorded when there is at least one force
    deferred script for the frame (not necessarily external).
  </summary>
</histogram>

<histogram name="Blink.Script.SchedulingType" enum="ScriptSchedulingType"
    expires_after="2021-07-11">
  <obsolete>
    Removed in M90 because we collected enough insights.
  </obsolete>
  <owner>kouhei@chromium.org</owner>
  <owner>hiroshige@chromium.org</owner>
  <summary>
    Number of script elements for each scheduling type, recorded for each
    successful #prepare-a-script.
  </summary>
</histogram>

<histogram base="true" name="Blink.ScrollDocumentUpdate.UpdateTime"
    units="microseconds" expires_after="2022-05-01">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent preparing the document to ensure correct scroll behavior, such as
    scroll chaining or other programatic scrolling. Includes time spent in style
    update and layout.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram base="true" name="Blink.ScrollingCoordinator.UpdateTime"
    units="microseconds" expires_after="M88">
  <obsolete>
    Merged into Blink.CompositingCommit.UpdateTime in http://crrev.com/815947 in
    M88.
  </obsolete>
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>pdr@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    The time it took to update scrolling coordinator data (scroll gesture
    regions, touch event rects, and main thread scrolling reasons). These values
    are calculated during the main-thread blink lifecycle.

    Warning: This metric may include reports from clients with low-resolution
    clocks (i.e. on Windows, ref. |TimeTicks::IsHighResolution()|). Such reports
    will cause this metric to have an abnormal distribution. When considering
    revising this histogram, see UMA_HISTOGRAM_CUSTOM_MICROSECONDS_TIMES for the
    solution.
  </summary>
</histogram>

<histogram base="true" name="Blink.ServiceDocumentUpdate.UpdateTime"
    units="microseconds" expires_after="2022-05-01">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent preparing the document to service browser driven behaviors.
    Examples include accessibility, intersection observer, display locking and
    spell checking. Includes time spent in style update and layout.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.Sms.BackendAvailability"
    enum="WebOTPBackendAvailability" expires_after="2022-04-24">
  <owner>yigu@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    Records how often the verification backend is unavailable for the WebOTP API
    and the corresponding reason. This is recorded once per OTP request.
  </summary>
</histogram>

<histogram name="Blink.Sms.PendingOriginCount" units="origins"
    expires_after="2022-04-24">
  <owner>yigu@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    SmsFetcher subscribes to incoming SMSes with origins from SmsProvider. This
    metric records the number of pending origins that are not unsubscribed when
    the SmsFetcher subscribes to new origins.
  </summary>
</histogram>

<histogram name="Blink.Sms.Receive.CrossDeviceFailure"
    enum="WebOTPCrossDeviceFailure" expires_after="2022-04-03">
  <owner>yigu@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    Records the reason why using the WebOTP API on desktop failed on the sharing
    path. It records one sample per invocation of the API.
  </summary>
</histogram>

<histogram name="Blink.Sms.Receive.DestroyedReason"
    enum="WebOTPServiceDestroyedReason" expires_after="2021-12-12">
  <obsolete>
    Deprecated 09/2021. We have learned about the pattern of the destruction.
  </obsolete>
  <owner>yigu@chromium.org</owner>
  <owner>goto@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    Records the reason an SMS Service is destroyed before request completion.
  </summary>
</histogram>

<histogram name="Blink.Sms.Receive.Infobar" enum="WebOTPServiceInfobarAction"
    expires_after="2022-04-24">
  <owner>yigu@chromium.org</owner>
  <owner>goto@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    Records how many times the infobar was called and how many times the infobar
    replaced a keyboard.
  </summary>
</histogram>

<histogram name="Blink.Sms.Receive.Outcome" enum="WebOTPServiceOutcome"
    expires_after="2022-04-24">
  <owner>yigu@chromium.org</owner>
  <owner>goto@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>Records the result of a call to the WebOTP API.</summary>
</histogram>

<histogram name="Blink.Sms.Receive.SmsParsingStatus" enum="SmsParsingStatus"
    expires_after="2022-04-24">
  <owner>yigu@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    Records the status of parsing an incoming SMS when using the WebOTP API. It
    records one sample per incoming SMS.

    Note: This metric does not cover cross-devices WebOTP.
  </summary>
</histogram>

<histogram name="Blink.Sms.Receive.TimeCancel" units="ms"
    expires_after="2022-04-10">
  <owner>yigu@chromium.org</owner>
  <owner>goto@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    Records the duration from when the API is called to when the request is
    cancelled by the service due to duplicated requests or lack of delegate.
  </summary>
</histogram>

<histogram name="Blink.Sms.Receive.TimeCancelOnKeyboardDismissal" units="ms"
    expires_after="2022-05-01">
  <owner>yigu@chromium.org</owner>
  <owner>goto@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    Records the duration from when the keyboard was replaced with an infobar
    until when the user clicked the cancel button.
  </summary>
</histogram>

<histogram name="Blink.Sms.Receive.TimeCancelOnSuccess" units="ms"
    expires_after="2022-05-01">
  <owner>yigu@chromium.org</owner>
  <owner>goto@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    Records the time from when a successful SMS was retrieved to when the user
    presses the Cancel button.
  </summary>
</histogram>

<histogram name="Blink.Sms.Receive.TimeContinueOnSuccess" units="ms"
    expires_after="2022-04-03">
  <owner>yigu@chromium.org</owner>
  <owner>goto@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    Records the time from when a successful SMS was retrieved to when the user
    presses the Continue button.
  </summary>
</histogram>

<histogram name="Blink.Sms.Receive.TimeSmsReceive" units="ms"
    expires_after="2022-04-17">
  <owner>yigu@chromium.org</owner>
  <owner>goto@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    Records the duration from when the API is called to when an SMS has been
    successfully received.
  </summary>
</histogram>

<histogram name="Blink.Sms.Receive.TimeSuccess" units="ms"
    expires_after="2022-04-24">
  <owner>yigu@chromium.org</owner>
  <owner>goto@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    Records the duration from when the API is called to when the user
    successfully receives the SMS and presses continue to pass the incoming SMS
    to the site and proceed with the SMS verification flow.
  </summary>
</histogram>

<histogram name="Blink.Sms.Receive.TimeUserCancel" units="ms"
    expires_after="2022-05-01">
  <owner>yigu@chromium.org</owner>
  <owner>goto@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    Records the duration from when the API is called to when the user
    successfully receives the SMS and presses &quot;Deny&quot; to terminate the
    SMS verification flow.
  </summary>
</histogram>

<histogram name="Blink.Sms.WebContentsVisibleOnReceive" enum="Boolean"
    expires_after="2022-04-24">
  <owner>yigu@chromium.org</owner>
  <owner>web-identity@google.com</owner>
  <summary>
    Records whether the web contents that receives the OTP is visible or not for
    the UserConsent backend. Recorded at most once per API call when Chrome sees
    the OTP from the expected origin.
  </summary>
</histogram>

<histogram name="Blink.SpatialNavigation.Advance" units="microseconds"
    expires_after="M85">
  <obsolete>
    Expired in M85.
  </obsolete>
  <owner>bokan@chromium.org</owner>
  <summary>
    Time it takes to find best candidate element, set focus or scroll for given
    directional input.
  </summary>
</histogram>

<histogram base="true" name="Blink.Style.UpdateTime" units="microseconds"
    expires_after="2022-04-03">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>layout-dev@chromium.org</owner>
  <summary>
    Time spent updating style in the Blink document lifecycle.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.ThreadedIconLoader.LoadTime" units="ms"
    expires_after="2021-11-30">
  <owner>nator@chromium.org</owner>
  <owner>rayankans@chromium.org</owner>
  <summary>
    The number of milliseconds it took to finish successfully loading an icon
    using ThreadedIconLoader. Recorded whenever a blink module loads an icon
    using ThreadedIconLoader.
  </summary>
</histogram>

<histogram name="Blink.UpdateViewportIntersection.UpdateTime"
    units="microseconds" expires_after="2022-10-10">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent computing geometry information about iframes from the perspective
    of their embedding document. This time is also included in the
    Blink.IntersectionObservation.UpdateTime metric.

    This histogram only records metrics on machines with high-resolution clocks.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.AnimatedCSSProperties"
    enum="MappedCSSProperties" expires_after="never">
<!-- expires-never: used by Chrome Platform Status dashboard -->

<!-- https://www.chromestatus.com/metrics/css/animated -->

  <owner>chasej@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Records usage of animated CSS properties used on a page, either statically
    or dynamically, from the time the page is initialised to when it is closed
    or navigated away from. Each property is counted at most once per page per
    view via PageLoadMetricsObserver.

    This histogram counts CSS properties only when they are animated by a CSS
    Animation. Refer to Blink.UseCounter.CSSProperties for more details.

    As of M69, Blink.UseCounter.AnimatedCSSProperties is moved from the blink
    side to the browser side.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.CSSProperties" enum="MappedCSSProperties"
    expires_after="never">
<!-- expires-never: used by Chrome Platform Status dashboard -->

<!-- https://www.chromestatus.com/metrics/css/animated -->

  <owner>chasej@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Records usage of CSS properties used on a page, either statically or
    dynamically, from the time the page is initialised to when it is closed or
    navigated away from. Each property is counted at most once per page per view
    via PageLoadMetricsObserver.

    The first time a CSS property is parsed on a page, the histogram is updated
    to increment the counter. Each histogram bucket corresponds to a CSS
    property (eg. width, border-radius). The exception is the 'Total pages
    measured' bucket - this counts the number of pages that CSS properties were
    counted on. When a page navigation occurs the page count bucket is
    incremented and tracking of the set of which properties have been seen is
    reset.

    These numbers give the percentage of pages that use a CSS property. For
    example, if the 'border-radius' histogram bucket has a count of 250, and the
    page count bucket (i.e. bucket number 1) has a count of 1000 - this means
    that 1000 pages were recorded, and border-radius was used on 25% of those
    pages.

    Note that CSS properties used inside of SVG images are tracked separately in
    the Blink.UseCounter.SVGImage.CSSProperties histogram.

    As of M57 this histogram supercedes WebCore.FeatureObserver.CSSProperties.

    As of M69, Blink.UseCounter.AnimatedCSSProperties is moved from the blink
    side to the browser side.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.DocumentPolicy.Enforced"
    enum="DocumentPolicyFeature" expires_after="2022-03-31">
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Counts enforced DocumentPolicyViolationReport generated in a document.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.DocumentPolicy.Header"
    enum="DocumentPolicyFeature" expires_after="2022-03-31">
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Counts the use of a specific document policy via the
    &quot;Document-Policy&quot; HTTP response header.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.DocumentPolicy.PolicyAttribute"
    enum="DocumentPolicyFeature" expires_after="2022-03-31">
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Counts the use of a specific document policy via the &quot;policy&quot;
    attribute. Each policy is counted only once per page load.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.DocumentPolicy.ReportOnly"
    enum="DocumentPolicyFeature" expires_after="2022-03-31">
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Counts report only DocumentPolicyViolationReport generated in a document.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.Extensions.Features" enum="FeatureObserver"
    expires_after="2021-10-10">
  <owner>chasej@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Count of how many page loads use various features for pages with a
    chrome-extension:// URL only. The PageVisits bucket is incremented for each
    page load, and the other buckets incremented at most once per PageVisit via
    the WebCore::UserCounter class.

    Warning: This histogram represents pre-renderer metrics and so is flawed
    under OOPIF.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.FeaturePolicy.Allow"
    enum="FeaturePolicyFeature" expires_after="2021-10-31">
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Counts the use of a specific feature policy via the &quot;allow&quot;
    attribute. Each policy is counted only once per document load.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.FeaturePolicy.AttributeAllowlistType"
    enum="FeaturePolicyAllowlistType" expires_after="2021-10-31">
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Logs the type of allowlist used in a Feature-Policy &quot;allow&quot;
    attribute; whether it is empty, or contains only a single keyword, is
    composed only of keywords, or contains explicit tuple origins. Recorded at
    the point that the attribute is parsed.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.FeaturePolicy.Header"
    enum="FeaturePolicyFeature" expires_after="2022-04-17">
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Counts the use of a specific feature policy via the
    &quot;Feature-Policy&quot; HTTP response header.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.FeaturePolicy.HeaderAllowlistType"
    enum="FeaturePolicyAllowlistType" expires_after="2021-10-31">
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Logs the type of allowlist used in a Feature-Policy header; whether it is
    empty, or contains only a single keyword, is composed only of keywords, or
    contains explicit tuple origins. Recorded at the point that the header is
    parsed.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.FeaturePolicy.PotentialViolation"
    enum="FeaturePolicyFeature" expires_after="2021-01-03">
  <obsolete>
    Remoted in M91.
  </obsolete>
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Tracks potential violations of feature policies in a document. This is
    emitted once all the conditions for violating the feature policy are met in
    the document; regardless of whether or not the feature has been disabled in
    the document; in other words, it still records a potential violation even if
    there won't be a violation report generated. Note that this is recorded once
    per document.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.FeaturePolicy.ProposalWouldChangeBehaviour"
    enum="FeaturePolicyFeature" expires_after="2021-03-07">
  <obsolete>
    Removed in M88.
  </obsolete>
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Counts when the result of calling IsFeatureEnabled for an Execution Context
    would be different under the proposal in https://crbug.com/937171. Each
    feature is counted only once per execution context.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.Features" enum="FeatureObserver"
    expires_after="never">
<!-- expires-never: used by Chrome Platform Status dashboard -->

<!-- https://www.chromestatus.com/metrics/css/animated -->

  <owner>chasej@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Count of how many page loads use various features across all frames in a
    page. The PageVisits bucket is incremented for each page load, and the other
    buckets incremented at most once per PageVisit via blink::UseCounter and
    UseCounterPageLoadMetricsObserver.

    Note that this histogram only counts page with HTTP/HTTPS URL scheme.
    Feature used in pages with other URL schemes might be counted in other
    histograms: &quot;extension://&quot; : Blink.UseCounter.Extensions.Features
    &quot;file://&quot; : Blink.UseCounter.File.Features
  </summary>
</histogram>

<histogram name="Blink.UseCounter.File.Features" enum="FeatureObserver"
    expires_after="2021-01-10">
  <owner>yhirano@chromium.org</owner>
  <owner>mkwst@chromium.org</owner>
  <summary>
    Count of how many `file:` URL page loads use various features across all
    frames in the page. This histogram has the same semantics as
    &quot;Blink.UseCounter.Features&quot;, but applies only to `file:` URLs
    (which that histogram does not include).

    Refer to &quot;Blink.UseCounter.Features&quot; for more details.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.MainFrame.Features" enum="FeatureObserver"
    expires_after="never">
<!-- expires-never: Companion to Blink.UseCounter.Features, which is also expires-never. -->

  <owner>chasej@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Count of how many page loads use various features across in the main frame
    of a page. The PageVisits bucket is incremented at the beginning of each
    page load and the other buckets incremented at most once per PageVisit via
    blink::UseCounter and UseCounterPageLoadMetricsObserver throughout the
    lifetime of a page load metrics observer.

    This histogram counts usage of web features in main frame only. Refer to
    Blink.UseCounter.Features for more details.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.PermissionsPolicy.Allow"
    enum="FeaturePolicyFeature" expires_after="2022-05-30">
  <obsolete>
    Obsolete in 2021-09. Use Blink.UseCounter.PermissionsPolicy.Allow2 instead.
  </obsolete>
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Counts the use of a specific permissions policy feature via the
    &quot;allow&quot; attribute on iframes. Each policy is counted only once per
    page load.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.PermissionsPolicy.Allow2"
    enum="FeaturePolicyFeature" expires_after="2022-05-30">
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Counts the use of a specific permissions policy feature via the
    &quot;allow&quot; attribute on iframes. Each policy is counted only once per
    page load. Version 2 fixes the mismatched histogram name with data
    collected.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.PermissionsPolicy.Header"
    enum="FeaturePolicyFeature" expires_after="2022-05-30">
  <obsolete>
    Obsolete in 2021-09. Use Blink.UseCounter.PermissionsPolicy.Header2 instead.
  </obsolete>
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Counts the use of a specific permissions policy feature via both
    &quot;Feature-Policy&quot; and &quot;Permissions-Policy&quot; HTTP response
    header. Each policy is counted only once per page load.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.PermissionsPolicy.Header2"
    enum="FeaturePolicyFeature" expires_after="2022-05-30">
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Counts the use of a specific permissions policy feature via both
    &quot;Feature-Policy&quot; and &quot;Permissions-Policy&quot; HTTP response
    header. Each policy is counted only once per page load. Version 2 fixes the
    mismatched histogram name with data collected.
  </summary>
</histogram>

<histogram name="Blink.UseCounter.PermissionsPolicy.Violation.Enforce"
    enum="FeaturePolicyFeature" expires_after="2022-04-24">
  <owner>iclelland@chromium.org</owner>
  <owner>feature-control@chromium.org</owner>
  <summary>
    Counts the actual enforced permissions policy violation. The metrics is
    triggered when ExecutionContext::IsFeatureEnabled with
    ReportOptions::ReportOnFailure as param returns false, at most once per page
    visit.
  </summary>
</histogram>

<histogram base="true" name="Blink.UserDrivenDocumentUpdate.UpdateTime"
    units="microseconds" expires_after="2022-05-01">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent preparing the document to service user driven behaviors. Examples
    include inspector, selection, editing, find-in-page and focus. Includes time
    spent in style update and layout.

    This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.V8.InitPerIsolateData" units="microseconds"
    expires_after="2022-01-30">
  <owner>sky@chromium.org</owner>
  <owner>yukishiino@chromium.org</owner>
  <summary>
    The number of microseconds it takes to call V8PerIsolateData::Initialize().

    Warning: This metric may include reports from clients with low-resolution
    clocks (i.e. on Windows, ref. |TimeTicks::IsHighResolution()|). Such reports
    will cause this metric to have an abnormal distribution. When considering
    revising this histogram, see UMA_HISTOGRAM_CUSTOM_MICROSECONDS_TIMES for the
    solution.
  </summary>
</histogram>

<histogram name="Blink.V8.NumberContextsCreatedOfWindow" units="count"
    expires_after="2022-01-30">
  <owner>sky@chromium.org</owner>
  <owner>yukishiino@chromium.org</owner>
  <summary>
    The number of V8 contexts blink created for windows. Logged when the
    renderer shuts down.
  </summary>
</histogram>

<histogram name="Blink.VisibleBeforeLoaded.LazyLoadEligibleFrames.BelowTheFold"
    enum="NQEEffectiveConnectionType" expires_after="2021-02-21">
  <owner>sclittle@chromium.org</owner>
  <summary>
    Records the effective connection type whenever a lazyload-eligible (i.e.
    cross-origin and non-hidden) iframe that was initially below the fold
    becomes visible before it finishes loading.
  </summary>
</histogram>

<histogram name="Blink.VisibleBeforeLoaded.LazyLoadImages.AboveTheFold"
    enum="NQEEffectiveConnectionType" expires_after="2022-05-01">
  <owner>sclittle@chromium.org</owner>
  <owner>rajendrant@chromium.org</owner>
  <summary>
    Records the effective connection type whenever a lazily loaded image that
    was initially above the fold becomes visible before it finishes loading.
  </summary>
</histogram>

<histogram name="Blink.VisibleBeforeLoaded.LazyLoadImages.BelowTheFold"
    enum="NQEEffectiveConnectionType" expires_after="2022-03-13">
  <owner>sclittle@chromium.org</owner>
  <owner>rajendrant@chromium.org</owner>
  <summary>
    Records the effective connection type whenever a lazily loaded image that
    was initially below the fold becomes visible before it finishes loading.
  </summary>
</histogram>

<histogram
    name="Blink.VisibleLoadTime.LazyLoadEligibleFrames.AboveTheFold{BlinkVisibleLoadTimeSuffixes}"
    units="ms" expires_after="2021-08-29">
  <owner>sclittle@chromium.org</owner>
  <summary>
    Milliseconds spent waiting for an above the fold iframe to load. Only fires
    for iframes that would be eligible for lazy loading, i.e. cross-origin and
    non-hidden. {BlinkVisibleLoadTimeSuffixes}
  </summary>
  <token key="BlinkVisibleLoadTimeSuffixes"
      variants="BlinkVisibleLoadTimeSuffixes">
    <variant name=""/>
  </token>
</histogram>

<histogram
    name="Blink.VisibleLoadTime.LazyLoadEligibleFrames.BelowTheFold{BlinkVisibleLoadTimeSuffixes}"
    units="ms" expires_after="2021-02-21">
  <owner>sclittle@chromium.org</owner>
  <summary>
    Milliseconds spent waiting for a below the fold iframe to load. Only fires
    for iframes that would be eligible for lazy loading, i.e. cross-origin and
    non-hidden. {BlinkVisibleLoadTimeSuffixes}
  </summary>
  <token key="BlinkVisibleLoadTimeSuffixes"
      variants="BlinkVisibleLoadTimeSuffixes">
    <variant name=""/>
  </token>
</histogram>

<histogram
    name="Blink.VisibleLoadTime.LazyLoadImages.AboveTheFold{BlinkVisibleLoadTimeSuffixes}"
    units="ms" expires_after="2022-01-02">
  <owner>rajendrant@chromium.org</owner>
  <owner>bengr@chromium.org</owner>
  <summary>
    Milliseconds spent waiting for an above the fold image element to load. 0ms
    is recorded if the image is already loaded by the time user scrolls to it.
    EffectiveConnectionType (2G, 3G, etc) is recorded as suffix to this
    histogram. {BlinkVisibleLoadTimeSuffixes}
  </summary>
  <token key="BlinkVisibleLoadTimeSuffixes"
      variants="BlinkVisibleLoadTimeSuffixes">
    <variant name="">
      <obsolete>
        Base histogram. Use suffixes of this histogram instead.
      </obsolete>
    </variant>
  </token>
</histogram>

<histogram
    name="Blink.VisibleLoadTime.LazyLoadImages.BelowTheFold{BlinkVisibleLoadTimeSuffixes}"
    units="ms" expires_after="2022-01-02">
  <owner>rajendrant@chromium.org</owner>
  <owner>bengr@chromium.org</owner>
  <summary>
    Milliseconds spent waiting for a below the fold image element to load. 0ms
    is recorded if the image is already loaded by the time user scrolls to it.
    EffectiveConnectionType (2G, 3G, etc) is recorded as suffix to this
    histogram. {BlinkVisibleLoadTimeSuffixes}
  </summary>
  <token key="BlinkVisibleLoadTimeSuffixes"
      variants="BlinkVisibleLoadTimeSuffixes">
    <variant name="">
      <obsolete>
        Base histogram. Use suffixes of this histogram instead.
      </obsolete>
    </variant>
  </token>
</histogram>

<histogram base="true" name="Blink.WaitForCommit.UpdateTime"
    units="microseconds" expires_after="2022-03-13">
<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePreFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimePostFCPSuffixes" -->

<!-- Name completed by histogram_suffixes name="BlinkUpdateTimeAggregatedSuffixes" -->

  <owner>schenney@chromium.org</owner>
  <owner>paint-dev@chromium.org</owner>
  <summary>
    Time spent waiting for the compositor thread to begin processing a layer
    update inside ProxyMain::BeginMainFrame.

    Note: This histogram does not record metrics on machines with low-resolution
    clocks.
  </summary>
</histogram>

<histogram name="Blink.WebCodecs.ImageDecoder.Success" enum="BooleanSuccess"
    expires_after="2022-04-10">
  <owner>dalecurtis@chromium.org</owner>
  <owner>media-dev@chromium.org</owner>
  <summary>
    Whether a given JavaScript ImageDecoder instance completed operation
    successfully or not. Logged upon destruction of the instance.
  </summary>
</histogram>

<histogram name="Blink.WebCodecs.ImageDecoder.Type" enum="DecodedImageType"
    expires_after="2022-04-10">
  <owner>dalecurtis@chromium.org</owner>
  <owner>media-dev@chromium.org</owner>
  <summary>
    Image codec provided to JavaScript ImageDecoder constructor. Logged once per
    successful construction upon completion of construction.
  </summary>
</histogram>

<histogram name="Blink.WebCodecs.{AudioCodecApi}.Codec" enum="AudioCodec"
    expires_after="2022-02-01">
  <owner>dalecurtis@chromium.org</owner>
  <owner>media-dev@chromium.org</owner>
  <summary>
    The codec type used with {AudioCodecApi}. Recorded for every successful
    configure() call.
  </summary>
  <token key="AudioCodecApi">
    <variant name="AudioDecoder"/>
    <variant name="AudioEncoder"/>
  </token>
</histogram>

<histogram name="Blink.WebCodecs.{CodecApi}.FinalStatus" enum="MediaStatusCode"
    expires_after="2022-02-01">
  <owner>dalecurtis@chromium.org</owner>
  <owner>media-dev@chromium.org</owner>
  <summary>
    The final media::StatusCode for each {CodecApi} instance. The final status
    code is either StatusCode::kOk or the first fatal error encountered.
    Recorded once upon destruction for each codec type.
  </summary>
  <token key="CodecApi">
    <variant name="AudioDecoder"/>
    <variant name="AudioEncoder"/>
    <variant name="VideoDecoder"/>
    <variant name="VideoEncoder"/>
  </token>
</histogram>

<histogram name="Blink.WebCodecs.{VideoCodecApi}.Codec" enum="VideoCodec"
    expires_after="2022-02-01">
  <owner>dalecurtis@chromium.org</owner>
  <owner>media-dev@chromium.org</owner>
  <summary>
    The codec type used with {VideoCodecApi}. Recorded for every successful
    configure() call.
  </summary>
  <token key="VideoCodecApi">
    <variant name="VideoDecoder"/>
    <variant name="VideoEncoder"/>
  </token>
</histogram>

<histogram name="Blink.WindowOpen.FromAdState" enum="WindowOpenFromAdState"
    expires_after="2019-08-30">
  <owner>yaoxia@chromium.org</owner>
  <owner>csharrison@chromium.org</owner>
  <summary>
    Indicates whether the page called window.open() with an ad script in the
    stack and/or from an ad subframe. Recorded whenever window.open() is called
    when AdTagging is enabled.
  </summary>
</histogram>

<histogram name="Blink.{CookieOperation}Time.Manager{ManagerState}" units="ms"
    expires_after="2022-02-09">
  <owner>cduvall@chromium.org</owner>
  <owner>jam@chromium.org</owner>
  <summary>
    Measures the time it takes to perform a {CookieOperation} operation from the
    CookieJar when the CookieManager is {ManagerState}. Logged on every
    operation from the CookieJar.
  </summary>
  <token key="CookieOperation">
    <variant name="Cookies"/>
    <variant name="CookiesEnabled"/>
    <variant name="SetCookie"/>
  </token>
  <token key="ManagerState">
    <variant name="Available"/>
    <variant name="Requested"/>
  </token>
</histogram>

<histogram name="Blink.{Host}.RenderTaskDuration.{Context}.{Filter}"
    units="microseconds" expires_after="2022-05-11">
  <owner>junov@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    Time spent executing a script task that draws content to a {Context} context
    of a {Host}.

    Note: This metric drops reports on clients with low-resolution clocks, which
    means these reports will be biased against a portion of the population on
    Windows. See Windows.HasHighResolutionTimeTicks for the affected sample.
  </summary>
  <token key="Host">
    <variant name="Canvas"/>
    <variant name="OffscreenCanvas"/>
  </token>
  <token key="Context">
    <variant name="2D.Accelerated"/>
    <variant name="2D.Unaccelerated"/>
    <variant name="ImageBitmap"/>
    <variant name="WebGL"/>
    <variant name="WebGL2"/>
    <variant name="WebGPU"/>
  </token>
  <token key="Filter">
    <variant name="All"/>
    <variant name="Animation"/>
    <variant name="DrawArrays"/>
    <variant name="DrawElements"/>
    <variant name="Image"/>
    <variant name="ImageData"/>
    <variant name="Path"/>
    <variant name="Rectangle"/>
    <variant name="Text"/>
  </token>
</histogram>

<histogram
    name="Blink.{Host}.RenderTaskDuration.{Thread}.{Context}.{Resource}.{Filter}"
    units="microseconds" expires_after="2022-05-11">
  <obsolete>
    Removed in M93. This metric was replaced with
    Blink.{Host}.RenderTaskDuration.{Context}.{Filter}
  </obsolete>
  <owner>junov@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    Time spent executing a script task that draws content to a {Context} context
    of a {Host}.

    Note: This metric drops reports on clients with low-resolution clocks, which
    means these reports will be biased against a portion of the population on
    Windows. See Windows.HasHighResolutionTimeTicks for the affected sample.
  </summary>
  <token key="Host">
    <variant name="Canvas"/>
    <variant name="OffscreenCanvas"/>
  </token>
  <token key="Thread">
    <variant name="MainThread"/>
    <variant name="Worker"/>
  </token>
  <token key="Context">
    <variant name="2D"/>
    <variant name="ImageBitmap"/>
    <variant name="WebGL"/>
    <variant name="WebGL2"/>
    <variant name="WebGPU"/>
  </token>
  <token key="Resource">
    <variant name="Bitmap"/>
    <variant name="PassThrough"/>
    <variant name="SharedBitmap"/>
    <variant name="SharedImage"/>
    <variant name="SkiaDawnSharedImage"/>
    <variant name="SwapChain"/>
  </token>
  <token key="Filter">
    <variant name="All"/>
    <variant name="Animation"/>
  </token>
</histogram>

<histogram name="Blink.{Host}.{Heap}.{Context}" units="KB"
    expires_after="2022-05-11">
  <owner>junov@chromium.org</owner>
  <owner>fserb@chromium.org</owner>
  <owner>aaronhk@chromium.org</owner>
  <summary>
    Memory usage on the {Heap} heap in KB, sampled after the execution of script
    tasks that render content to a {Host}, using a {Context} context.
  </summary>
  <token key="Host">
    <variant name="Canvas"/>
    <variant name="OffscreenCanvas"/>
  </token>
  <token key="Heap">
    <variant name="BlinkGC"/>
    <variant name="PartitionAlloc"/>
  </token>
  <token key="Context">
    <variant name="2D.Accelerated"/>
    <variant name="2D.Unaccelerated"/>
    <variant name="ImageBitmap"/>
    <variant name="WebGL"/>
    <variant name="WebGL2"/>
    <variant name="WebGPU"/>
  </token>
</histogram>

<histogram name="BlinkGC.CollectionRate" units="%" expires_after="M84">
  <obsolete>
    Replaced by V8.GC.Cycle.CollectionRate.Full.Cpp since M94.
  </obsolete>
  <owner>haraken@chromium.org</owner>
  <summary>
    The percentage of objects that have been collected by a Blink GC. 0 is
    passed if there were no objects when a Blink GC started.
  </summary>
</histogram>

<histogram name="BlinkGC.GCReason" enum="GCReason" expires_after="M84">
  <obsolete>
    Replaced by V8.GC.Cycle.Reason.Full since M94.
  </obsolete>
  <owner>haraken@chromium.org</owner>
  <summary>A type of Blink GC.</summary>
</histogram>

<histogram name="BlinkGC.LowMemoryPageNavigationGC.Reduction" units="MB"
    expires_after="M77">
  <obsolete>
    Dropped due to move to Oilpan library in M94.
  </obsolete>
  <owner>keishi@chromium.org</owner>
  <summary>
    Amount of memory reduced with the GC triggered on page navigation while the
    device is in a low memory state. Only implemented on low end Android devices
    at the moment. Memory usage is approximated by summing the memory usage of
    the following allocators: BlinkGC, PartitionAlloc, and V8 main thread
    isolate heap.
  </summary>
</histogram>

<histogram name="BlinkGC.MainThreadMarkingThroughput" units="MB/s"
    expires_after="M95">
  <obsolete>
    Dropped due to move to Oilpan library in M94.
  </obsolete>
  <owner>mlippautz@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Marking throughput considering all durations of all marking phases on the
    main thread and marked bytes within one Blink garbage collection cycle.
    Reported once per garbage collection cycle at the end. Only reported for
    platforms supporting high resolution clocks and when more than 1MB of live
    objects have been found.
  </summary>
</histogram>

<histogram name="BlinkGC.ObjectSizeAfterGC" units="KB" expires_after="M95">
  <obsolete>
    Replaced by V8.GC.Cycle.Objects.After.Full since M94.
  </obsolete>
  <owner>haraken@chromium.org</owner>
  <owner>mlippautz@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    The size of allocated objects just after Blink GC is triggered. Reported
    once per garbage collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.ObjectSizeBeforeGC" units="KB" expires_after="M95">
  <obsolete>
    Replaced by V8.GC.Cycle.Objects.Before.Full since M94.
  </obsolete>
  <owner>haraken@chromium.org</owner>
  <owner>mlippautz@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    The size of allocated objects just before Blink GC is triggered. Reported
    once per garbage collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.ObjectSizeFreedByHeapCompaction" units="KB"
    expires_after="M81">
  <obsolete>
    Replaced by V8.GC.Cycle.Memory.Freed.Full since M94.
  </obsolete>
  <owner>haraken@chromium.org</owner>
  <summary>
    The total size of objects freed by BlinkGC's heap compaction. This is
    recorded once following each compaction.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForAtomicPhase" units="ms" expires_after="M95">
  <obsolete>
    Replaced by V8.GC.Cycle.MainThread.Full.Atomic.Cpp since M94.
  </obsolete>
  <owner>mlippautz@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Duration of overall garbage collection time when the garbage collector is
    invoked for finishing a garbage collection. This includes finishing up any
    already running garbage collection operation. Reported once per garbage
    collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForAtomicPhaseMarking" units="ms"
    expires_after="M95">
  <obsolete>
    Replaced by V8.GC.Cycle.MainThread.Full.Atomic.Mark.Cpp since M94.
  </obsolete>
  <owner>mlippautz@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Duration of finishing marking the transitive closure of objects during the
    final Blink garbage collection pause. Reported once per garbage collection
    at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForCompleteSweep" units="ms" expires_after="M95">
  <obsolete>
    Covered by V8.GC.Event.MainThread.Full.Incremental.Sweep since M94.
  </obsolete>
  <owner>bikineev@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Duration of the pause that completes sweeping. Reported once per garbage
    collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForGCCycle" units="ms" expires_after="M95">
  <obsolete>
    Replaced by V8.GC.Cycle.MainThread.Full.Cpp since M94.
  </obsolete>
  <owner>mlippautz@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Sum of all durations of individual phases within one Blink garbage
    collection. Reported once per garbage collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForGlobalWeakProcessing" units="ms"
    expires_after="M95">
  <obsolete>
    Replaced by V8.GC.Cycle.MainThread.Full.Atomic.Weak.Cpp since M94.
  </obsolete>
  <owner>haraken@chromium.org</owner>
  <owner>mlippautz@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Duration of time taken to run global weak processing of Blink GC. Reported
    once per garbage collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForHeapCompaction" units="ms" expires_after="M95">
  <obsolete>
    Replaced by V8.GC.Event.MainThread.Full.Compact.Cpp since M94.
  </obsolete>
  <owner>haraken@chromium.org</owner>
  <owner>mlippautz@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Duration of wall time taken to run BlinkGC's heap compaction. Reported once
    per garbage collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForIncrementalMarking" units="ms"
    expires_after="2022-02-13">
  <obsolete>
    Covered by V8.GC.Cycle.MainThread.Full.Mark.Cpp and
    V8.GC.Cycle.MainThread.Full.Atomic.Mark.Cpp since M94.
  </obsolete>
  <owner>mlippautz@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Sum of all durations of incremental marking phases within one Blink garbage
    collection cycle. Reported once per garbage collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForInvokingPreFinalizers" units="ms"
    expires_after="M95">
  <obsolete>
    Dropped due to move to Oilpan library in M94.
  </obsolete>
  <owner>haraken@chromium.org</owner>
  <owner>mlippautz@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Duration of time taken to run ThreadState::InvokePreFinalizers(). Reported
    once per garbage collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForMarkingRoots" units="ms" expires_after="M98">
  <obsolete>
    Dropped due to move to Oilpan library in M94.
  </obsolete>
  <owner>omerkatz@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Duration of marking roots within one Blink garbage collection. Reported once
    per garbage collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForMarking{BlinkGCTimingTypes}" units="ms"
    expires_after="M98">
  <obsolete>
    Covered by V8.GC.Cycle.Full.Mark.Cpp and
    V8.GC.Cycle.MainThread.Full.Mark.Cpp since M94.
  </obsolete>
  <owner>omerkatz@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Accumulated sum of all durations of individual phases contributing to
    marking (main thread and background helpers) within one Blink garbage
    collection. Reported once per garbage collection at the end.
    {BlinkGCTimingTypes}
  </summary>
  <token key="BlinkGCTimingTypes">
    <variant name=""/>
    <variant name=".Background" summary="Includes only background helpers"/>
    <variant name=".Foreground" summary="Includes only the main thread"/>
  </token>
</histogram>

<histogram name="BlinkGC.TimeForNestedInV8" units="ms" expires_after="M95">
  <obsolete>
    Dropped due to move to Oilpan library in M94.
  </obsolete>
  <owner>mlippautz@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Duration of the time of Blink garbage collection spent nested in a V8
    garbage collection. Reported once per garbage collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForSweepingBackground" units="ms"
    expires_after="M95">
  <obsolete>
    Covered by V8.GC.Cycle.Full.Sweep.Cpp and
    V8.GC.Cycle.MainThread.Full.Sweep.Cpp since M94.
  </obsolete>
  <owner>bikineev@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Sum of all durations of individual phases contributing to sweeping on
    background helpers within one Blink garbage collection. Reported once per
    garbage collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForSweepingForeground" units="ms"
    expires_after="2022-01-09">
  <obsolete>
    Replaced by V8.GC.Cycle.MainThread.Full.Mark.Cpp since M94.
  </obsolete>
  <owner>bikineev@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Sum of all durations of individual phases contributing to sweeping on the
    main thread within one Blink garbage collection. Reported once per garbage
    collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForSweepingSum" units="ms" expires_after="M95">
  <obsolete>
    Replaced by V8.GC.Cycle.Full.Mark.Cpp since M94.
  </obsolete>
  <owner>bikineev@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    Accumulated sum of all durations of individual phases contributing to
    sweeping (main thread and background helpers) within one Blink garbage
    collection. Reported once per garbage collection at the end.
  </summary>
</histogram>

<histogram name="BlinkGC.TimeForTotalCollectGarbage" units="ms"
    expires_after="M84">
  <obsolete>
    Replaced by V8.GC.Cycle.MainThread.Full since M94.
  </obsolete>
  <owner>haraken@chromium.org</owner>
  <owner>hpayer@chromium.org</owner>
  <summary>
    Duration of total Blink garbage collection time when the garbage collector
    is invoked for finishing a garbage collection. This includes finishing up
    any already running garbage collection operation as well as potentially
    performing a follow-up collection synchronously. Recorded each time after
    invoking the Blink garbage collector.
  </summary>
</histogram>

<histogram name="BlinkGC.TotalAllocatedSpace" units="KB" expires_after="M95">
  <obsolete>
    Dropped due to move to Oilpan library in M94.
  </obsolete>
  <owner>haraken@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    The total size of allocated space in OS when a Blink GC is triggered.
  </summary>
</histogram>

<histogram name="BlinkGC.TotalObjectSpace" units="KB" expires_after="M95">
  <obsolete>
    Dropped due to move to Oilpan library in M94.
  </obsolete>
  <owner>haraken@chromium.org</owner>
  <owner>oilpan-reviews@chromium.org</owner>
  <summary>
    The total size of object space in all threads when a Blink GC is triggered.
  </summary>
</histogram>

</histograms>

</histogram-configuration>
